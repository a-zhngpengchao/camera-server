2025-12-06 00:00:31.098  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:00:31.103  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 3ed4 f69e 3283 b944 e1f6 aa8c 86bf dd47 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 3651 b347 3c11 ab3f fa0e d9d5 3562 a7ad 43ae e6b9 b3ac 63e7 db29 a83a f3f7 e421
2025-12-06 00:00:31.104  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 148, "uid": "A111-bbc1234", "time": 1764417023, "status": 0 }
2025-12-06 00:00:31.138  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 148
2025-12-06 00:00:31.138  WARN 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 未处理的消息CODE: 148
2025-12-06 00:01:38.766  INFO 28088 --- [http-nio-8080-exec-6] c.p.c.c.internal.MqttControlController   : 请求设备 A111-bbc1234_pBbfnn 的 WebRTC Offer - SID: 1764950498764
2025-12-06 00:01:38.767  INFO 28088 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234_pBbfnn - Topic: camera/pura365/A111-bbc1234_pBbfnn/master, 明文JSON: {"rtc":"8.129.3.8:3478,test_rtc,test123456","code":23,"time":1764950498,"sid":"1764950498764"}
2025-12-06 00:01:38.816  INFO 28088 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234_pBbfnn - Topic: camera/pura365/A111-bbc1234_pBbfnn/master, 大小: 96 bytes
2025-12-06 00:01:38.817  INFO 28088 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): ed2c fe67 6b71 d554 391a 5b42 c5c5 f0a8 c74b fcf4 672f c51e 0c14 9ab4 04dc c1ed 1a9c 66e2 28ac 207c 9cd4 a5cf c7fe e9a1 5f05 1390 b9de e929 d59e 7457 4b44 7859 fe46 b18c 68d1 bb2a c674 750d 32d4 6e43 2ed0 910e 1e9c 2892 2b42 6cf5 90cf fcb9
2025-12-06 00:01:38.818  INFO 28088 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 已请求设备 A111-bbc1234_pBbfnn 的WebRTC Offer
2025-12-06 00:01:40.102  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:01:40.103  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 3479 7bc3 bd97 30f5 b9bb f6dc 74ba 6273 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 f992 f340 a04b 1e6c 764e d39e fb54 d4df 43ae e6b9 b3ac 63e7 db29 a83a f3f7 e421
2025-12-06 00:01:40.103  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 138, "uid": "A111-bbc1234", "time": 1764950528, "status": 0 }
2025-12-06 00:01:40.103  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 138
2025-12-06 00:01:40.106  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 设备 A111-bbc1234 MQTT已连接 - Status: 0
2025-12-06 00:01:40.122  INFO 28088 --- [MQTT Call: local-camera-server] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-06 00:01:40.576  INFO 28088 --- [MQTT Call: local-camera-server] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-06 00:01:40.777  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 已创建新设备记录 A111-bbc1234
2025-12-06 00:01:40.777  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:01:40.778  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 3479 7bc3 bd97 30f5 b9bb f6dc 74ba 6273 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 f992 f340 a04b 1e6c 764e d39e fb54 d4df 43ae e6b9 b3ac 63e7 db29 a83a f3f7 e421
2025-12-06 00:01:40.779  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 138, "uid": "A111-bbc1234", "time": 1764950528, "status": 0 }
2025-12-06 00:01:40.779  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 138
2025-12-06 00:01:40.779  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 设备 A111-bbc1234 MQTT已连接 - Status: 0
2025-12-06 00:01:40.918  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 已更新设备 A111-bbc1234 状态为在线
2025-12-06 00:01:40.919  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:01:40.919  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 3479 7bc3 bd97 30f5 b9bb f6dc 74ba 6273 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 f992 f340 a04b 1e6c 764e d39e fb54 d4df 43ae e6b9 b3ac 63e7 db29 a83a f3f7 e421
2025-12-06 00:01:40.920  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 138, "uid": "A111-bbc1234", "time": 1764950528, "status": 0 }
2025-12-06 00:01:40.920  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 138
2025-12-06 00:01:40.920  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 设备 A111-bbc1234 MQTT已连接 - Status: 0
2025-12-06 00:01:41.043  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 已更新设备 A111-bbc1234 状态为在线
2025-12-06 00:02:34.476  INFO 28088 --- [http-nio-8080-exec-2] c.p.c.c.internal.MqttControlController   : 请求设备 A111-bbc1234_pBbfnn 的 WebRTC Offer - SID: 1764950554474
2025-12-06 00:02:34.476  INFO 28088 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234_pBbfnn - Topic: camera/pura365/A111-bbc1234_pBbfnn/master, 明文JSON: {"rtc":"8.129.3.8:3478,test_rtc,test123456","code":23,"time":1764950554,"sid":"1764950554474"}
2025-12-06 00:02:34.800  INFO 28088 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234_pBbfnn - Topic: camera/pura365/A111-bbc1234_pBbfnn/master, 大小: 96 bytes
2025-12-06 00:02:34.800  INFO 28088 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): ed2c fe67 6b71 d554 391a 5b42 c5c5 f0a8 c74b fcf4 672f c51e 0c14 9ab4 04dc c1ed 1a9c 66e2 28ac 207c 9cd4 a5cf c7fe e9a1 5f05 1390 b9de e929 d59e 7457 4b44 7859 850e 3768 4b2c 79b3 471a c990 1361 25db e4ce c5a6 604f dccc 2104 d0be 4c46 1420
2025-12-06 00:02:34.800  INFO 28088 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 已请求设备 A111-bbc1234_pBbfnn 的WebRTC Offer
2025-12-06 00:04:55.737  INFO 28088 --- [http-nio-8080-exec-7] c.p.c.c.internal.MqttControlController   : 请求设备 A111-bbc1234_pBbfnn 的 WebRTC Offer - SID: 1764950695734
2025-12-06 00:04:55.738  INFO 28088 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234_pBbfnn - Topic: camera/pura365/A111-bbc1234_pBbfnn/master, 明文JSON: {"rtc":"8.129.3.8:3478,test_rtc,test123456","code":23,"time":1764950695,"sid":"1764950695734"}
2025-12-06 00:04:55.787  INFO 28088 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234_pBbfnn - Topic: camera/pura365/A111-bbc1234_pBbfnn/master, 大小: 96 bytes
2025-12-06 00:04:55.787  INFO 28088 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): ed2c fe67 6b71 d554 391a 5b42 c5c5 f0a8 c74b fcf4 672f c51e 0c14 9ab4 04dc c1ed 1a9c 66e2 28ac 207c 9cd4 a5cf c7fe e9a1 5f05 1390 b9de e929 d59e 7457 4b44 7859 1dbc f9c2 a1b1 8446 0aeb 8a1f 7a9c 4486 81db a768 7054 6e73 26fb 88db 342e eea7
2025-12-06 00:04:55.788  INFO 28088 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 已请求设备 A111-bbc1234_pBbfnn 的WebRTC Offer
2025-12-06 00:05:52.795  INFO 28088 --- [http-nio-8080-exec-4] c.p.c.c.internal.MqttControlController   : 请求设备 A111-bbc1234 的 WebRTC Offer - SID: 1764950752793
2025-12-06 00:05:52.795  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"rtc":"8.129.3.8:3478,test_rtc,test123456","code":23,"time":1764950752,"sid":"1764950752793"}
2025-12-06 00:05:52.848  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 96 bytes
2025-12-06 00:05:52.848  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): ed2c fe67 6b71 d554 391a 5b42 c5c5 f0a8 c74b fcf4 672f c51e 0c14 9ab4 04dc c1ed 1a9c 66e2 28ac 207c 9cd4 a5cf c7fe e9a1 5f05 1390 b9de e929 d59e 7457 4b44 7859 cabd 7fa5 75df 612b 9e06 707c 8331 e327 71a6 45d1 3a93 5b8f 024a f51d 8166 180a
2025-12-06 00:05:52.848  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 已请求设备 A111-bbc1234 的WebRTC Offer
2025-12-06 00:05:53.749  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 2224 bytes
2025-12-06 00:05:53.758  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 6568 6067 c371 2a4e 1193 64bd 6127 9486 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 82c8 7086 b9ab 66ec fd04 73fe 368a 0b50 244a 55cf 8f5a feca cab1 f994 fa03 d057 1e5a ee62 beb5 8b90 8c80 490e 347b aa14 aba7 a9dc 3aac b449 217d 4cdc 59a4 24ef 2450 2d63 7cdf 2e6f 098d 3c7a 25da 07b2 6232 ae5e a5af 41c4 d8c5 5b9f 511b d53c b0ed 5391 9d91 2a0e ba93 49a6 8932 97c5 8536 1ded c856 44db 113f 86a4 a686 752f 94e7 d13e a54e 7339 bb6a 1f26 b7c7 4a6d 2bf8 ee20 2e24 c140 3d93 fc03 92d4 d499 4881 6d93 1730 3766 01e1 26ce 91a9 2257 c694 e7ff 257c 60f7 11c8 aca8 d143 ac31 0297 9b0b 4ad1 92a3 a137 397a ff20 1a46 8bf3 27fc 21ed b8e9 af99 686f 7a3b 325a 6bd2 f63c 80c7 95c1 0877 d713 2335 bbc4 4217 259a 171d b786 ba7d 83c0 5d47 2dda 254d bac9 03e7 1a7b bd6e 4a53 b6e3 c373 8334 0465 3736 9c4b c113 f96f cbbf 4c0c 40c2 b996 9ecc 66ed 35a4 fdc1 85e0 4e7d 0598 7387 6219 676d 53ba e949 2c72 b886 c733 34e4 2d8e 7c64 2f41 d289 b7bf 91d8 821d 83be dece 3c0b 1a27 5f92 3db9 2ce1 4f48 6ff1 ca3f 70e1 1951 8ca5 b133 ceaa 7c14 4968 bf1b fe6d a3c2 d5bf d061 fd1d 4449 48b4 c2b2 15ce bb70 5a83 1a80 f24c 3b21 88e5 52ab 9461 f159 fe57 b403 401f 7948 987f fc1e d506 fbd0 2d7c 047c ffb5 33f3 ef8d 9133 290c 399e f20a d744 6be5 194f 9df3 3716 3425 6345 37bf 9cc7 ab0c 6076 e17a 220a 0074 cef8 f0dc 5c2e f69f a56c 5df6 2cba 3e28 02d3 5ce7 d9b8 e1c1 6478 5b96 0fda f721 3d28 fd1f a662 2687 33cd 6af1 405b f062 b00d a219 546f 66e0 b89b 17eb 15dd 3ebf 13e0 5f92 a640 67e1 4ef4 742a 5c1d 3e69 0228 698b 8a17 0f29 81ce 3854 4dda 4ef6 0426 1abb 1c70 49e5 d349 84fd 6bda e3cb 06e1 f043 f175 d707 fb03 f3d5 e1b6 c89a 8e84 93a1 4cff ecaf d03c 3efb c5c5 9dec 5727 ad64 1aa7 93c7 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 b725 b621 aa3a 9772 477a 2e47 a51a 0b28 d647 4f17 288c 041a 64ac 6a3f e949 1c9e 4119 d137 8b77 1443 a781 0f95 1f73 50fc 2243 5ab7 9598 329c 1a2e e84c 285d 8531 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 fe41 3a55 c7b2 06c7 53f3 ccf8 1777 a4ce 3b61 7cc8 f5b0 779e c619 dd77 4db6 b63e 248c ea57 d198 956f c18f 1558 f181 d9e1 2b4e b29a 0f71 34a0 1948 b9b1 d7a8 5da8 cd0d 98f2 2e96 8395 639d ba93 1980 45de b126 c189 2430 2e78 6987 988d 12bd d57b ed13 efef 0f6f de2e b86e 1fed f765 38a2 650d 3746 0368 7270 5c76 7710 c3fb 03eb ce00 7a49 9cc6 e844 5d89 39c6 8d9c e509 0602 136b a4ea 24aa 6937 07f4 2988 a81c 72a7 9810 8329 042d 281e 537c e2ce f675 a760 871d 55a1 1ca4 3900 9de6 c0a8 0b42 557b b7ed f11a 6706 5921 d360 26ed 52af 1e68 49ec c7ff 15a0 a55f cbf1 e966 f4cb e5b7 cf58 d592 c93a 03c7 1b26 7431 405f bfa0 aa38 adc3 3cfe dd82 7a0b b4a8 1075 56a1 3679 575a cf2c 0fd2 a3d8 1f69 b480 08ae 1b1e da7d 4f69 16e1 b349 bc15 b168 5461 b17b 29e1 87fd 3374 2628 3cb5 ac80 4e4d fde1 e41f d486 098e 1b72 13fc 5836 4760 b00f 6b25 d1f2 cd1d f8f3 a3f3 5960 9d16 5f50 1161 a1a1 b882 5c18 7d81 19e8 c405 2d75 d89b d648 c94e 33d1 b96e 3eaf 8da9 9d90 8004 f2b5 5b9c b95c 6199 ead9 5b71 d591 93ff 8397 e6fa 3190 e527 8fb8 a94b a995 6435 3b4b a17e 352b b7e7 f912 a669 70b3 7dee 7c77 1489 7fff 80bc 51c6 1d76 43ee d751 7dd6 f343 cb9b 8917 0452 65f4 765d 0359 f9a0 8837 1e12 aca7 c7ed c584 0ad0 4adb 2703 3d43 2a72 c4cc e254 7a52 d8e8 0b77 25ef c588 f9c9 c8a6 3af0 487f 39ea aa42 9001 26f1 c96f 41e4 48d9 26e5 5724 ffe5 a456 b3f5 5e53 7cff e189 b22d bdb3 dac4 073f 4d15 0472 edec 62bc 8367 94ff 16e5 ed9f d067 8d78 9883 403c 5044 a2d8 ceb7 4f23 76cb 0b59 a426 b9e1 d016 84fd a1f4 9b5f ffd6 0d94 ab75 65fc 7972 374b a811 af86 f3bb d128 05ec d03b 0cb1 38b2 1b4b 07d4 bfc6 844e 0327 1684 84d8 d5ef b273 bc58 e5a5 00f7 c48f e590 c8ba f8b8 3d6f 4adc 0553 6bb5 c2cf ba3d fc82 ea97 fa67 94b4 5338 c152 95c8 aa60 7a7f 1592 745c 969e 766e d933 ecb8 015e 4e43 de0a bf74 cc55 f3aa d0b4 1f31 81d4 4e60 c2cc de28 0e46 2027 2d0c 0428 4b7f c29e 2bda c29b 203a 0eff 8158 3b6a 2606 12db d971 f817 0b0b f71b 98c5 5ee3 fb30 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 ebd1 7b67 28d5 8949 7464 9e81 26e9 0b60 f2ed a26e c7e0 f7a0 e244 b32d 6385 e413 8e89 3c1b 3e7c 6a80 f527 4bde 9e2d ee83 d3e0 7d49 7c2c 54a9 f16f baf7 01f7 9333 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 6d71 ce1a 504b 1ec3 ddde da36 57ae 55c7 5e42 675a c7d5 b14e fa84 fb2a 7fe8 10d6 92f8 5b94 685e c5bb 6081 4194 1c62 fd8f 0ac6 329f bd1a 3e3f dcd2 ae28 20e7 4a41 c9b7 7e6e e9d6 8660 57de 9256 8e8e 229b 6e24 2cda 5d89 c9fc ed82 5925 d9a1 c5f4 158e 5f01 88e2 cf28 5cd4 d7d4 9aae 693b 0e5c fbc6 2eef 92e3 2252 ab55 c622 1722 76fa 4ba1 ccc2 0ab4 f9fe ddea d1b6 d14f f34f c86d 37a0 11e8 74bb 8139 159e 60fa 5e2d b45f 3019 e7e8 392b 2072 e441 6630 d1c8 11cc 6241 931e c58d 10c4 e9f0 589f ddad a732 d784 55fd 1367 c6db a936 9a72 05b1 595f ca11 dbfd aac5 7d8a a69e 276b 23fd 8a6f 7ece 9fc3 e59f 1509 2850 e8bb b73e 2bc1 fb40 09ee b641 0102 452f b7a5 5586 ba39 ae56 ffa2 e55c bc09 68c8 660b 2cde 09d0 66e9 07d0 ac2a 48c7 bb88 56c3 7e51 dbf3 9da1 8b44 f15e f5df 64e0 3dea ad6b 0a05 bf43 2328 e4b7 7ff4 613e 1217 1cb9 7750 49da 1b39 94cf e39b f26f 65d3 f8e3 a33a 1bd1 e0bd 310a 9440 9c95 fb20 b521 6760 df3b 6c7f c137 c953 c2b8 839f 2dad da9a 4c79 2e70 afeb 2865 61e7 09d2 4ee1 0c73 e71d 706b 202c 7035 21a5 ad2e 6629 9177 c655 2029 b6bb a844 0c44 84ff d2ee 53a6 41db 681e 9313 05fe 5eaa 0fb1 d039 cc55 971e fb24 4a46 5ffb 7323 2bdf 00ed 3533 edd6 447b 9827 6a17 98a3 30ba 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 80bb 6d7c 8e8b 7370 9993 d3ad 215b 855f fdc8 d14c 0454 2793 7b6e dcbd 2810 15b7 4a3f a47f 2771 22d7 e0b3 fd64 4c2a 76b4 7915 3ce3 fe44 e023 fe9f 9af1 219a 9b92 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 0868 9077 d7c3 621f 0b0e 80d3 93db 523d 023d e099 ea2a e33d f49a f38e ebd9 1d3b 082f ef39 5bf8 082b 2212 4437 c2ec f4d5
2025-12-06 00:05:53.758  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 151, "uid": "A111-bbc1234", "time": 1764950782, "sdp": "v=0\r\no=- 1495799811084970 1495799811084970 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\na=msid-semantic: iot\r\na=group:BUNDLE 0 1 2\r\nm=audio 9 UDP\/TLS\/RTP\/SAVP 8\r\na=rtpmap:8 PCMA\/8000\r\na=ssrc:12345679 cname:webrtc-pcma\r\na=sendrecv\r\na=mid:0\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 89:8D:7B:F2:FA:BD:4A:47:2A:EF:2C:5F:2F:5E:53:EF:BB:DE:C2:EA:8C:77:01:47:5A:7C:AA:B1:F9:B4:7E:C4\r\na=setup:passive\r\na=ice-ufrag:vsC7\r\na=ice-pwd:vsC766gsUJsn3xKBnDLVIbdP\r\na=candidate:0 1 UDP 2126870527 192.168.31.57 50551 typ host\r\na=candidate:2 1 UDP 1690662911 123.144.114.73 50551 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 16163071 8.129.3.8 63136 typ relay raddr 0.0.0.0 rport 0\r\nm=video 9 UDP\/TLS\/RTP\/SAVPF 96 102\r\na=rtcp-fb:96 nack pli\r\na=rtcp-fb:102 nack pli\r\na=rtpmap:96 H264\/90000\r\na=rtpmap:102 H264\/90000\r\na=fmtp:96 profile-level-id=42e01f;packetization-mode=1;level-asymmetry-allowed=1\r\na=fmtp:102 profile-level-id=64001f;packetization-mode=1;level-asymmetry-allowed=1\r\na=ssrc:12345678 cname:webrtc-h264\r\na=sendonly\r\na=mid:1\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 89:8D:7B:F2:FA:BD:4A:47:2A:EF:2C:5F:2F:5E:53:EF:BB:DE:C2:EA:8C:77:01:47:5A:7C:AA:B1:F9:B4:7E:C4\r\na=setup:passive\r\na=ice-ufrag:vsC7\r\na=ice-pwd:vsC766gsUJsn3xKBnDLVIbdP\r\na=candidate:0 1 UDP 2126870527 192.168.31.57 50551 typ host\r\na=candidate:2 1 UDP 1690662911 123.144.114.73 50551 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 16163071 8.129.3.8 63136 typ relay raddr 0.0.0.0 rport 0\r\nm=application 50712 UDP\/DTLS\/SCTP webrtc-datachannel\r\na=mid:2\r\na=sctp-port:5000\r\nc=IN IP4 0.0.0.0\r\na=max-message-size:262144\r\na=fingerprint:sha-256 89:8D:7B:F2:FA:BD:4A:47:2A:EF:2C:5F:2F:5E:53:EF:BB:DE:C2:EA:8C:77:01:47:5A:7C:AA:B1:F9:B4:7E:C4\r\na=setup:passive\r\na=ice-ufrag:vsC7\r\na=ice-pwd:vsC766gsUJsn3xKBnDLVIbdP\r\na=candidate:0 1 UDP 2126870527 192.168.31.57 50551 typ host\r\na=candidate:2 1 UDP 1690662911 123.144.114.73 50551 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 16163071 8.129.3.8 63136 typ relay raddr 0.0.0.0 rport 0\r\n", "sid": "1764950752793", "status": 1 }
2025-12-06 00:05:53.759  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 151
2025-12-06 00:05:53.759  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Offer - SID: 1764950752793, Status: 1
2025-12-06 00:05:53.759  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 已缓存 WebRTC Offer, SID: 1764950752793
2025-12-06 00:05:53.972  INFO 28088 --- [http-nio-8080-exec-6] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Answer 到设备 A111-bbc1234 - SID: 1764950752793
2025-12-06 00:05:53.973  INFO 28088 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"code":24,"time":1764950753,"sdp":"v=0\r\no=- 596133209197263575 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1 2\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVP 8\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:53o9\r\na=ice-pwd:RSzk5lsIyHTfy8zj7ddSFWN9\r\na=ice-options:trickle\r\na=fingerprint:sha-256 34:BD:40:BF:C3:98:EB:16:48:03:A0:AE:E9:5D:C1:54:43:37:E0:D6:1F:1D:9B:57:4E:E5:B3:43:73:4C:8D:0F\r\na=setup:active\r\na=mid:0\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:8 PCMA/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 96\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:53o9\r\na=ice-pwd:RSzk5lsIyHTfy8zj7ddSFWN9\r\na=ice-options:trickle\r\na=fingerprint:sha-256 34:BD:40:BF:C3:98:EB:16:48:03:A0:AE:E9:5D:C1:54:43:37:E0:D6:1F:1D:9B:57:4E:E5:B3:43:73:4C:8D:0F\r\na=setup:active\r\na=mid:1\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:96 H264/90000\r\na=rtcp-fb:96 nack pli\r\na=fmtp:96 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:53o9\r\na=ice-pwd:RSzk5lsIyHTfy8zj7ddSFWN9\r\na=ice-options:trickle\r\na=fingerprint:sha-256 34:BD:40:BF:C3:98:EB:16:48:03:A0:AE:E9:5D:C1:54:43:37:E0:D6:1F:1D:9B:57:4E:E5:B3:43:73:4C:8D:0F\r\na=setup:active\r\na=mid:2\r\na=sctp-port:5000\r\na=max-message-size:262144\r\n","sid":"1764950752793"}
2025-12-06 00:05:53.984  INFO 28088 --- [http-nio-8080-exec-7] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764950752793
2025-12-06 00:05:53.984  INFO 28088 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:1560832018 1 udp 2113937151 33df23d2-444a-41a5-aa90-a01f0a3dca4a.local 57095 typ host generation 0 ufrag 53o9 network-cost 999","code":25,"time":1764950753,"sid":"1764950752793"}
2025-12-06 00:05:54.017  INFO 28088 --- [http-nio-8080-exec-8] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764950752793
2025-12-06 00:05:54.017  INFO 28088 --- [http-nio-8080-exec-8] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:2116324206 1 udp 1677729535 106.47.72.198 3234 typ srflx raddr 0.0.0.0 rport 0 generation 0 ufrag 53o9 network-cost 999","code":25,"time":1764950754,"sid":"1764950752793"}
2025-12-06 00:05:54.019  INFO 28088 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 1376 bytes
2025-12-06 00:05:54.021  INFO 28088 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): c874 0ee4 6ab1 63a9 d285 ba78 7fe3 17f0 9dbb 5130 0a90 c0c4 4055 dea7 20d0 587a ea38 bd9d 9112 b273 d50d 0816 4583 a474 4008 a218 37d6 bf8f 73e0 a1ca 38d0 2a69 857b 4039 285a 4081 c640 c57e 3fda 1e83 6066 d678 a874 7753 a4ea 372d 383f 7fba fde2 2440 bfac 8f2e 8f85 2af0 9432 11bd fec1 e42b 54c6 aafb c26d 88ba 8ef4 6e6e e017 c7e6 4470 7821 e227 6350 04fe d403 048a 567e 5cef dac9 58b7 707b d8f5 e10d a144 2c9a 518c faf0 2a75 cc67 edf9 9801 bf31 737f 49f7 ca39 7d0c 1978 b94e 8f4a 7ddc ce69 e018 0be8 bada dd96 9966 4f40 4fa5 18a3 d8f2 09fc 2c72 e86b 7063 8a6f f519 c66b 67ea c6f7 0d30 412d f904 ade4 c3d5 8eb6 25d3 6cbb e54f 1f3c 7cc1 e535 2da8 70ff 10ab 9e02 53a9 f3e0 2917 7e06 6610 7a24 a98c 550a 300a e12d 4ab0 980c 2a5f ea21 b7f2 1b53 3c44 c90b 46c8 4870 38b8 de39 8dfa bc77 6924 791c 4378 3eb2 98bf 549c fc31 5ef2 2e1c 3ba1 5275 cf63 97f4 23e8 2369 6ee7 5b76 4ed4 6e42 f2df d15b b018 60d6 4076 e30e 0e9c 60ed 25e2 ddab feb7 e5b1 2e7f 093d 91a4 74db b510 10df ae6e 5370 ad12 409d 1e9e efb3 5c16 a58c e0ba 828c b44a 272f 03f0 fe3c 2fdd f1f1 df1a a1c0 0696 65f7 84ad 2975 fe4b d377 c1a4 68c6 daf3 6dc9 b769 9526 2abb 9980 900c a8cd 8ee1 a0f0 9b52 8932 2cfc 5d87 cab9 ea74 9a82 c07d b60e a05e 9914 bf3c 336e da9e 6bc4 0d9d cc47 93cd ebbc 7f04 7bcb 4d9c 1bbb 5af2 f546 2b5d e27f d6de 6389 6f31 386e dbe8 0a5b c0c7 0818 b206 ff20 188e 85e6 2ad8 98d7 c072 3f1d 6775 f29b 965c 6a4b aef8 f32f b6e9 26d8 718b e505 5f9c baba 24f1 8c16 9ec7 d655 cd62 6424 ce03 8c8b eb8a 5e6a 882f 8e52 b7fc 6552 43fc 8511 c0d1 3ccd 916e 4891 4c7c d936 f289 7d7b 4047 a82c 039c 1e84 c495 becd d3e6 7465 715d b678 aa99 1c6a 6d11 8319 f252 9e4d 60cf 3342 c88e 6b57 bf69 1062 f8aa 5e22 58f6 1c40 4614 c8d4 424a 6903 518b 20ab c841 ad69 b43a c555 785f 80f1 ed6d 29f2 46bc d881 fbee d1d0 afaf c4e4 5195 1ce2 6635 561e a040 2d37 feb5 15dd 2448 419d db2f 73a0 18ad 0537 04d1 0ca8 a8b2 0b98 1936 5fdd 817f 1a33 bb5a a009 7816 4fe4 89d3 77da 810a dd92 0b37 bee1 9b06 5c43 d3af 5823 60c0 f868 f40f 5a1e a4e2 fbe1 4c4e 9284 44ee 66b2 9fd4 ceed 8c8e 73fc e8e4 b68b bc73 434f f103 d3fb 7658 15b4 ad2f ad32 f62e fba5 d36a 87fa 1eaf 0dc1 c97e ebba 2126 76fd a0a5 70c1 db27 93c7 6e93 b623 d86d bad4 404d b190 7ff0 b419 fba1 6a9d eb32 b56a 3388 dad5 0e33 429f a204 311f 818f f63f bd98 feae 2be9 37c6 04c5 6ca5 ad0f 3233 a8ca 5b5c 3c7c e6cb 93e3 aad1 4ccc 102a d5ee 1529 e2fc 85b7 a53a f6ef 660f 8efb 08d6 3847 0605 5d8c 0a95 47df 8932 006c 216b 7108 1a0b 4fff 1f21 f102 42f9 ea2d f590 1214 9d51 c248 b5af c1e0 482c 63f4 112a de5d 163b f679 c17e fd17 859b c0ce 8640 3689 eb13 2f5d 127c eef7 c074 94a3 99f5 cb87 4d78 f9f9 624f 0d4a add7 d2ad 3109 62f8 7c2e d078 2208 7d62 1b11 c52d 2b0b a66a d383 26b2 4ecf 6b5f 90bf 9d48 94fe 068f 4f2c 5569 06fd 8826 b8e5 7ba5 cad0 3dd0 af74 5579 49c2 ae8e 91de 4e92 f9a7 312a 432c 98ee 79d2 4189 4bc9 fb77 586d a427 3741 13bc 4717 4957 47d1 fb7e 5dbb 6bdd 9c2a 6e81 5887 eac3 7c4c 3842 a41f d751 e644 c0cf ce23 cdd5 4d29 6d2a fcd5 389e 9c04 7760 379d 8eb4 e63a 2b3c 217b 5931 ff9b dba4 811b e115 5436 8eed 5437 d401 daf7 62cb dc1a b3b3 d22f 7438 02ae 3a37 d31e d342 9c57 0474 0b04 3083 7602 4ae1 ee99 0b6f 1016 15c6 fece f26a 453b a656 b661 57c6 9117 a30f 429e b061 b691 84d9 2bbe e06b 2ec0 869a c487 4ef6 68f1 faf8 57f3 10df 8b75 5d7d d6e8 c035 675a 48a4 61ff 094a 3479 c6ff 8a15 4284 5a89 bbbd a61c e142 7710 3a8b a053 2b12 ce1b 2dc0 2012 b209 233b a0cf 9970 1f50 de93 803e 11da 1ee6 49eb 880a 2e29 f80c 90f5 41f5 94f4 e797 2ce0 9ff9 4aac fdb1
2025-12-06 00:05:54.021  INFO 28088 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 已发送WebRTC Answer到设备 A111-bbc1234
2025-12-06 00:05:54.062  INFO 28088 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 208 bytes
2025-12-06 00:05:54.062  INFO 28088 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 fc1e 9252 7311 7410 0e15 ab56 69b8 7028 f223 dbe6 58e2 e8b1 4202 0b13 520d dd4b eb9e 3140 e684 b2e6 a29f ad54 7386 7778 50b7 8d5a bf30 2907 980b 5655 9eac e8da 8035 d5eb 2046 db5d ad19 d4f1 998b 63de 220f 16ae 8ac5 a870 7902 af14 99d5 9f36 d6c8 0078 6fc9 ab80 321b 084f 7068 e289 d7a3 9993 1f7a bd98 b6f1 10cf 25cc b482 19c6 d903 5d29 973e d4e0 73df ca1b 789d 5993 e4d2 b6f2 761b 66aa aef0 b5a2 ffce 859c 32cb 1865 a1d3 31a1 6c62 cac7 9eff 4ca2 1e1d 6c99 5f7a 6463 cd1a 08b9 87b4
2025-12-06 00:05:54.062  INFO 28088 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:05:54.102  INFO 28088 --- [http-nio-8080-exec-8] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 208 bytes
2025-12-06 00:05:54.102  INFO 28088 --- [http-nio-8080-exec-8] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 6d3d 5fab adae b5ec b13a 8d06 432b 2def cba5 ed56 9066 bb7b 00d9 c778 1798 c040 a65f 25d8 bb75 bbd8 7b49 f110 9293 6008 0825 5aed 3a51 9a0e 7458 a8c2 fde7 49cd 5afd ebf6 efdf 04f9 a853 618e 4def cb3f 0789 2c38 fc71 7d10 cfbe 440e 6b55 ae69 5753 b729 ee5e 99b1 6afa e17b 09a1 af74 099e e066 5eed 7679 26f3 66df 778f f5aa b441 30c6 392a f02f 5885 cf6a 9c68 7827 dd76 5e1a 8b88 f189 1728 e503 1e0f 27af 6eb0 daae 66e8 226b 9b4d f27c 7746 1e35 c9e9 a33a 9b11 b9bb 676b f3c6 de90 9b06
2025-12-06 00:05:54.102  INFO 28088 --- [http-nio-8080-exec-8] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:05:54.120  INFO 28088 --- [http-nio-8080-exec-9] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764950752793
2025-12-06 00:05:54.120  INFO 28088 --- [http-nio-8080-exec-9] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:3896235304 1 udp 33562623 8.129.3.8 58282 typ relay raddr 106.47.72.198 rport 3234 generation 0 ufrag 53o9 network-cost 999","code":25,"time":1764950754,"sid":"1764950752793"}
2025-12-06 00:05:54.141  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:05:54.141  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 51d5 77cc 5dea 7d42 74d0 42ed 95df 9dd4 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 5512 c42b e529 7618 1a74 924a 1923 29e4 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:05:54.142  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 152, "uid": "A111-bbc1234", "time": 1764950782, "status": 1 }
2025-12-06 00:05:54.142  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 152
2025-12-06 00:05:54.142  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Answer - SID: null, Status: 1
2025-12-06 00:05:54.166  INFO 28088 --- [http-nio-8080-exec-9] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 208 bytes
2025-12-06 00:05:54.166  INFO 28088 --- [http-nio-8080-exec-9] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 7b58 7c12 ceb6 4fcc 7a79 5386 a6cb 4a01 dcbe ddf0 2d73 40b4 5120 c647 7795 f592 cc49 b7af 65f5 4bf3 53b4 a807 d5d7 cdd6 f554 71d8 2c5f 3851 dc68 c0e3 16be e456 0c7a 22d7 23e3 eac2 7e1b 6abe deeb 7d63 003a de77 c6d2 32db a935 2c0d b2d5 d6b6 1644 36dc 1bd2 9765 9ccf 7fce 03d5 3602 a54f 7dbe 2e59 f643 d634 67bf dad4 5085 6966 80e1 a16f e831 d996 1d64 9cb0 9cba b291 e282 021f 9e6e 5949 ec3b 6b8f ac0b 8c9a 6028 fa99 f1ef 3f24 2ffe 61c9 e502 77c7 8032 45ee d51e 7c9b 202c bba1 38af
2025-12-06 00:05:54.166  INFO 28088 --- [http-nio-8080-exec-9] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:06:03.784  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:06:03.784  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 c723 6b28 a77e e550 e9b8 820e db55 fc76 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:06:03.785  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764950792, "status": 1 }
2025-12-06 00:06:03.785  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:06:03.785  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:06:03.853  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:06:03.853  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 c723 6b28 a77e e550 e9b8 820e db55 fc76 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:06:03.854  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764950792, "status": 1 }
2025-12-06 00:06:03.854  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:06:03.855  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:06:03.855  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:06:03.857  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 c723 6b28 a77e e550 e9b8 820e db55 fc76 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:06:03.857  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764950792, "status": 1 }
2025-12-06 00:06:03.857  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:06:03.857  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:06:28.497  INFO 28088 --- [http-nio-8080-exec-4] c.p.c.c.internal.DataChannelController   : 发送 DataChannel 指令到设备 A111-bbc1234 - 指令: left
2025-12-06 00:06:28.497  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"code":99,"time":1764950788,"command":"left"}
2025-12-06 00:06:28.545  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 48 bytes
2025-12-06 00:06:28.546  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): bba8 8910 e689 0a4d 2696 252d cfa4 8f80 250c b9c7 bb3b bb2f 6980 7c09 218d 162c c6d6 734b 27aa c938 c845 ab5f 77fe 5d3e
2025-12-06 00:20:59.233  INFO 28088 --- [http-nio-8080-exec-8] c.p.c.c.internal.MqttControlController   : 请求设备 A111-bbc1234 的 WebRTC Offer - SID: 1764951659227
2025-12-06 00:20:59.234  INFO 28088 --- [http-nio-8080-exec-8] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"rtc":"8.129.3.8:3478,test_rtc,test123456","code":23,"time":1764951659,"sid":"1764951659227"}
2025-12-06 00:20:59.282  INFO 28088 --- [http-nio-8080-exec-8] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 96 bytes
2025-12-06 00:20:59.283  INFO 28088 --- [http-nio-8080-exec-8] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): ed2c fe67 6b71 d554 391a 5b42 c5c5 f0a8 c74b fcf4 672f c51e 0c14 9ab4 04dc c1ed 1a9c 66e2 28ac 207c 9cd4 a5cf c7fe e9a1 5f05 1390 b9de e929 d59e 7457 4b44 7859 7122 b904 b7de 388e 682c be6a 90f1 d1b3 c208 c737 62b3 b6c6 4f6a 7938 21ff 2659
2025-12-06 00:20:59.283  INFO 28088 --- [http-nio-8080-exec-8] c.p.camera.service.MqttMessageService    : 已请求设备 A111-bbc1234 的WebRTC Offer
2025-12-06 00:21:00.064  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 2224 bytes
2025-12-06 00:21:00.080  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 6568 6067 c371 2a4e 1193 64bd 6127 9486 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 7623 3e98 f29c fec9 9a2f 0f1e 5b75 65b2 244a 55cf 8f5a feca cab1 f994 fa03 d057 1e5a ee62 beb5 8b90 8c80 490e 347b aa14 aba7 a9dc 3aac b449 217d 4cdc 59a4 24ef 2450 2d63 7cdf 2e6f 098d 3c7a 25da 07b2 6232 ae5e a5af 41c4 d8c5 5b9f 511b d53c b0ed 5391 9d91 2a0e ba93 49a6 8932 97c5 8536 1ded c856 44db 113f 86a4 a686 752f 94e7 d13e a54e 7339 bb6a 1f26 b7c7 4a6d 2bf8 ee20 2e24 c140 3d93 fc03 92d4 d499 4881 6d93 1730 3766 01e1 26ce 91a9 2257 c694 e7ff 257c 60f7 11c8 aca8 d143 ac31 0297 9b0b 4ad1 92a3 a137 397a ff20 1a46 8bf3 27fc 21ed b8e9 af99 686f 7a3b 325a 6bd2 f63c 80c7 95c1 0877 d713 2335 bbc4 4217 259a 171d b786 ba7d 83c0 5d47 2dda 254d bac9 03e7 1a7b bd6e 4a53 b6e3 c373 8334 0465 3736 9c4b c113 f96f cbbf 4c0c 40c2 b996 9ecc 66ed 35a4 fdc1 85e0 4e7d 0598 7387 6219 676d 53ba e949 2c72 b886 5aeb 4060 1788 a17e d787 90f0 6601 3104 42b8 b99e 1442 ff56 e108 aba5 33b9 3fee 5ef7 80bc 97a4 89c6 5d7f 880c 2c3d 98bb ca6b cde7 658d defa 51a4 d926 cf62 13e0 cd3f 9cb8 6dc0 8f1c bee4 17ab ebd3 98d8 c456 e8a4 1c4c b100 e6ca d0b5 3da3 1991 a5bd 2383 36a3 5f56 756f 9316 606b 52f9 33f3 ef8d 9133 290c 399e f20a d744 6be5 eb0b 14d8 0cf4 197c 4312 b8e9 b37b a574 e668 8e2e b748 b9a5 bd91 9272 fbc8 d988 9582 99f5 999f 4a87 190a 1c85 4159 f094 6478 5b96 0fda f721 3d28 fd1f a662 2687 54fc 3fd1 f668 b71d c581 9f0b c053 81ae b89b 17eb 15dd 3ebf 13e0 5f92 a640 67e1 acf5 ebfe 9217 7a21 024a 8d0b 48bc 8af6 81ce 3854 4dda 4ef6 0426 1abb 1c70 49e5 e454 49a6 a53c 4800 175a 6fc7 c63a f0ab fb03 f3d5 e1b6 c89a 8e84 93a1 4cff ecaf 1859 4764 7a39 552d f2b9 b91c 3704 aa35 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 b725 b621 aa3a 9772 477a 2e47 a51a 0b28 2a35 f1c0 4dbf bbe6 faf8 245f eaf4 a308 4331 2928 3583 da8f 67ee bada d06e 7884 0b31 8ad0 6e86 aba2 598b 9eb3 8127 f135 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 fe41 3a55 c7b2 06c7 53f3 ccf8 1777 a4ce 3b61 7cc8 f5b0 779e c619 dd77 4db6 b63e 248c ea57 d198 956f c18f 1558 f181 d9e1 2b4e b29a 0f71 34a0 1948 b9b1 d7a8 5da8 cd0d 98f2 2e96 8395 639d ba93 1980 45de b126 c189 2430 2e78 6987 988d 12bd d57b ed13 efef 0f6f de2e b86e 1fed f765 38a2 650d 3746 0368 7270 5c76 7710 c3fb 03eb ce00 7a49 9cc6 e844 5d89 39c6 8d9c e509 0602 136b a4ea 24aa 6937 07f4 2988 a81c 72a7 9810 8329 042d 281e 537c e2ce f675 a760 871d 55a1 1ca4 3900 9de6 c0a8 0b42 557b b7ed f11a 6706 5921 d360 26ed 52af 1e68 49ec c7ff 15a0 a55f cbf1 e966 f4cb e5b7 cf58 d592 c93a 03c7 1b26 7431 405f bfa0 aa38 adc3 3cfe dd82 7a0b b4a8 1075 56a1 3679 575a cf2c 0fd2 a3d8 1f69 b480 08ae 1b1e da7d 4f69 16e1 b349 bc15 b168 5461 b17b 29e1 87fd 3374 2628 3cb5 ac80 4e4d fde1 e41f d486 098e 1b72 13fc 5836 4760 b00f 6b25 d1f2 cd1d f8f3 a3f3 5960 9d16 5f50 1161 a1a1 b882 5c18 7d81 19e8 c405 2d75 d89b d648 c94e 33d1 b96e 3eaf 8da9 9d90 8004 f2b5 5b9c b95c 6199 ead9 5b71 d591 93ff 8397 e6fa 3190 e527 8fb8 a94b a995 6435 3b4b a17e 352b b7e7 f912 a669 70b3 7dee 7c77 1489 7fff 80bc 51c6 ad81 cd10 0a7f 01bc 9241 4b26 15b7 22dc 2649 58e3 de5e ae5e aa4b b629 991b 17dc 37f2 064b c9af 6ffb 2334 dcb5 b8bc 7f82 0396 94c3 a0fa 1790 9392 7011 dd1b 66b3 9d75 6361 75fc 9e76 9c51 0b47 8f58 3926 4421 ed74 24af d1be a045 0cd8 7daf 9ad1 a0af 100b 4ff9 8a44 f99a a77e 657b 060f 8367 94ff 16e5 ed9f d067 8d78 9883 403c 3c4f d285 8bfd b91c dbbe bfec e2e5 02a1 10d0 e159 65c1 d9e8 34bf 28a9 32d8 d68a ea81 4f2d f645 5e01 ef44 4f0d 31de cfa2 d984 efdf e34f c03f 6703 b3ef b3f7 3432 84d8 d5ef b273 bc58 e5a5 00f7 c48f e590 1d88 effe 3549 53fc 252d 3802 97df d560 176a 15d8 f1ca 8a21 a238 3d82 264b a954 7a7f 1592 745c 969e 766e d933 ecb8 015e 4e43 de0a bf74 cc55 f3aa d0b4 1f31 81d4 1b1d 91b3 b6ff 330f c6ec 58ad 2b8a d859 cdaa 2f12 abd6 d66b cceb 723f 529b 7dad 12db d971 f817 0b0b f71b 98c5 5ee3 fb30 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 ebd1 7b67 28d5 8949 7464 9e81 26e9 0b60 bbb1 a790 dd52 fc4d c9c7 242b 3bf7 2cf5 32a6 af25 442d 61c1 770e b6ca 3ae2 2827 d3e0 7d49 7c2c 54a9 f16f baf7 01f7 9333 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 6d71 ce1a 504b 1ec3 ddde da36 57ae 55c7 5e42 675a c7d5 b14e fa84 fb2a 7fe8 10d6 92f8 5b94 685e c5bb 6081 4194 1c62 fd8f 0ac6 329f bd1a 3e3f dcd2 ae28 20e7 4a41 c9b7 7e6e e9d6 8660 57de 9256 8e8e 229b 6e24 2cda 5d89 c9fc ed82 5925 d9a1 c5f4 158e 5f01 88e2 cf28 5cd4 d7d4 9aae 693b 0e5c fbc6 2eef 92e3 2252 ab55 c622 1722 76fa 4ba1 ccc2 0ab4 f9fe ddea d1b6 d14f f34f c86d 37a0 11e8 74bb 8139 159e 60fa b68e 0c7c 342b a847 cad5 274e a9c0 63e1 4c11 c35b df5e c307 dc63 10f9 3fe5 426d 13e7 62ff 25d3 1b44 c917 d323 411d e4fd b3f7 70a1 665b 339e b1ee 787a 41cf de13 1ab8 c7f4 edc7 683a 87c0 8344 7092 ef38 e5fe 648e 2efb 7826 b9de 03fd 066c 3fdc 5586 ba39 ae56 ffa2 e55c bc09 68c8 660b 2cde 09d0 66e9 07d0 ac2a 48c7 bb88 56c3 bb4d c5fd a3c4 0c75 6674 0573 8365 9252 dd46 1a54 3c27 fc23 18e8 ad5a 395f 8b2d dcd0 0c1c 5f39 e119 6e09 d638 1353 d922 f8e3 a33a 1bd1 e0bd 310a 9440 9c95 fb20 8047 ea40 81af 579a 4d9c 57b6 c9e4 355f fcf5 dee8 1c8d e720 5db8 694d a960 d36d bf14 f823 6cf0 17b3 b0b7 daa3 8a6d 573e 6629 9177 c655 2029 b6bb a844 0c44 84ff ed8f 6874 7ef5 67d6 24cb a5a6 f4a7 f2c3 1b5e ed2e d68f 6a81 c065 c722 87ce 6731 1d2f c11a af3d 32ef 4b88 05b2 27ea 1066 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 80bb 6d7c 8e8b 7370 9993 d3ad 215b 855f f943 2520 eb48 78b7 129b aa0e 74f2 1697 3700 002b f1c6 21c4 f487 50a9 c04d 9a7a 658e 8f53 4cee 5945 668f d94b d185 2534 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 0868 9077 d7c3 621f 0b0e 80d3 93db 523d 4e24 d3e0 6473 8ec2 7c8b d3c8 a0a0 0276 082f ef39 5bf8 082b 2212 4437 c2ec f4d5
2025-12-06 00:21:00.081  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 151, "uid": "A111-bbc1234", "time": 1764951688, "sdp": "v=0\r\no=- 1495799811084970 1495799811084970 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\na=msid-semantic: iot\r\na=group:BUNDLE 0 1 2\r\nm=audio 9 UDP\/TLS\/RTP\/SAVP 8\r\na=rtpmap:8 PCMA\/8000\r\na=ssrc:12345679 cname:webrtc-pcma\r\na=sendrecv\r\na=mid:0\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 9B:3A:3E:D0:80:72:88:25:C4:CE:4E:2B:77:A2:FF:EA:B0:BF:81:F7:C6:71:6F:78:8E:F8:9E:9B:F2:AB:64:86\r\na=setup:passive\r\na=ice-ufrag:ASoG\r\na=ice-pwd:ASoGV9g1gytWislgZs17heRz\r\na=candidate:0 1 UDP 2125740287 192.168.31.57 46136 typ host\r\na=candidate:2 1 UDP 1689532671 123.144.114.73 46136 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 13350399 8.129.3.8 52149 typ relay raddr 0.0.0.0 rport 0\r\nm=video 9 UDP\/TLS\/RTP\/SAVPF 96 102\r\na=rtcp-fb:96 nack pli\r\na=rtcp-fb:102 nack pli\r\na=rtpmap:96 H264\/90000\r\na=rtpmap:102 H264\/90000\r\na=fmtp:96 profile-level-id=42e01f;packetization-mode=1;level-asymmetry-allowed=1\r\na=fmtp:102 profile-level-id=64001f;packetization-mode=1;level-asymmetry-allowed=1\r\na=ssrc:12345678 cname:webrtc-h264\r\na=sendonly\r\na=mid:1\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 9B:3A:3E:D0:80:72:88:25:C4:CE:4E:2B:77:A2:FF:EA:B0:BF:81:F7:C6:71:6F:78:8E:F8:9E:9B:F2:AB:64:86\r\na=setup:passive\r\na=ice-ufrag:ASoG\r\na=ice-pwd:ASoGV9g1gytWislgZs17heRz\r\na=candidate:0 1 UDP 2125740287 192.168.31.57 46136 typ host\r\na=candidate:2 1 UDP 1689532671 123.144.114.73 46136 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 13350399 8.129.3.8 52149 typ relay raddr 0.0.0.0 rport 0\r\nm=application 50712 UDP\/DTLS\/SCTP webrtc-datachannel\r\na=mid:2\r\na=sctp-port:5000\r\nc=IN IP4 0.0.0.0\r\na=max-message-size:262144\r\na=fingerprint:sha-256 9B:3A:3E:D0:80:72:88:25:C4:CE:4E:2B:77:A2:FF:EA:B0:BF:81:F7:C6:71:6F:78:8E:F8:9E:9B:F2:AB:64:86\r\na=setup:passive\r\na=ice-ufrag:ASoG\r\na=ice-pwd:ASoGV9g1gytWislgZs17heRz\r\na=candidate:0 1 UDP 2125740287 192.168.31.57 46136 typ host\r\na=candidate:2 1 UDP 1689532671 123.144.114.73 46136 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 13350399 8.129.3.8 52149 typ relay raddr 0.0.0.0 rport 0\r\n", "sid": "1764951659227", "status": 1 }
2025-12-06 00:21:00.081  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 151
2025-12-06 00:21:00.082  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Offer - SID: 1764951659227, Status: 1
2025-12-06 00:21:00.082  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 已缓存 WebRTC Offer, SID: 1764951659227
2025-12-06 00:21:00.333  INFO 28088 --- [http-nio-8080-exec-1] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Answer 到设备 A111-bbc1234 - SID: 1764951659227
2025-12-06 00:21:00.335  INFO 28088 --- [http-nio-8080-exec-1] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"code":24,"time":1764951660,"sdp":"v=0\r\no=- 1767518983819870788 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1 2\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVP 8\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:kXo3\r\na=ice-pwd:upzKIGg38RoQ0dWBWEDk3lkE\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B5:C5:1D:3F:56:F9:B3:B6:D8:50:65:FC:E0:01:6F:19:C6:37:74:8D:C0:61:48:EF:00:B6:E8:12:8E:E8:4A:46\r\na=setup:active\r\na=mid:0\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:8 PCMA/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 96\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:kXo3\r\na=ice-pwd:upzKIGg38RoQ0dWBWEDk3lkE\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B5:C5:1D:3F:56:F9:B3:B6:D8:50:65:FC:E0:01:6F:19:C6:37:74:8D:C0:61:48:EF:00:B6:E8:12:8E:E8:4A:46\r\na=setup:active\r\na=mid:1\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:96 H264/90000\r\na=rtcp-fb:96 nack pli\r\na=fmtp:96 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:kXo3\r\na=ice-pwd:upzKIGg38RoQ0dWBWEDk3lkE\r\na=ice-options:trickle\r\na=fingerprint:sha-256 B5:C5:1D:3F:56:F9:B3:B6:D8:50:65:FC:E0:01:6F:19:C6:37:74:8D:C0:61:48:EF:00:B6:E8:12:8E:E8:4A:46\r\na=setup:active\r\na=mid:2\r\na=sctp-port:5000\r\na=max-message-size:262144\r\n","sid":"1764951659227"}
2025-12-06 00:21:00.335  INFO 28088 --- [http-nio-8080-exec-10] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764951659227
2025-12-06 00:21:00.336  INFO 28088 --- [http-nio-8080-exec-10] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:2761648656 1 udp 2113937151 33df23d2-444a-41a5-aa90-a01f0a3dca4a.local 64372 typ host generation 0 ufrag kXo3 network-cost 999","code":25,"time":1764951660,"sid":"1764951659227"}
2025-12-06 00:21:00.379  INFO 28088 --- [http-nio-8080-exec-3] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764951659227
2025-12-06 00:21:00.379  INFO 28088 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:504548356 1 udp 1677729535 106.47.72.198 4834 typ srflx raddr 0.0.0.0 rport 0 generation 0 ufrag kXo3 network-cost 999","code":25,"time":1764951660,"sid":"1764951659227"}
2025-12-06 00:21:00.381  INFO 28088 --- [http-nio-8080-exec-1] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 1376 bytes
2025-12-06 00:21:00.389  INFO 28088 --- [http-nio-8080-exec-1] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): c874 0ee4 6ab1 63a9 d285 ba78 7fe3 17f0 eec2 6de1 5e4c b9f3 f5e0 b638 0fb7 fea7 4ef4 d69f 720e 6b90 12e1 f293 40bb f996 198d aad1 e055 caaa 3a96 ac68 0818 60a7 be9d 26f3 b832 58a3 0b9d 8b36 35d6 f5f3 76d7 00e4 96d3 5fbe ca50 a0dc 7274 c1ac 900e 99f4 9317 9466 9444 f0d4 84fc 7fcc 94e7 d13e a54e 7339 bb6a 1f26 b7c7 4a6d b0ed 5391 9d91 2a0e ba93 49a6 8932 97c5 44eb c602 bb59 4532 f48a 53ca e748 691b a4fc 9cd9 9513 bcfb 9acd e23a 459b 427f b089 9918 7cd6 9917 1512 d8d6 d75e a0be 4a98 20e9 2025 2b24 6050 0962 6c30 b2a3 ab44 0a96 5177 51b4 67f4 56e1 1c9b 3f33 2f7f c531 0f04 7629 2f8d 1a1b 3119 e031 071a fb7a 6d33 8e8a a892 1993 b1c7 9e32 c2ec aa17 cce6 7cfb 98ec 5c6a 0d55 764e fa17 0e8c e900 6bb7 89a9 2e7c 2a47 cf76 9057 668b 435c c458 632d e52e 641d 0a40 f70a 57b2 fb2a b2fe b4b6 c89f 63c2 73fc f34f c86d 37a0 11e8 74bb 8139 159e 60fa 3b1f 4de8 5327 f27b 0acc ad03 2786 b6b5 f40f c321 45fc 1feb 479a 6f8e fa80 82a8 d520 18be bdec 4352 95db 58b2 77fa e61e 6c90 c286 7f1f 9de9 007a b727 c841 c595 6857 d6ab 4c91 e1e4 78df 048e 2e15 7b90 c54e c406 5cc7 da92 0b41 25f7 16b3 0a42 c343 6775 49c7 4877 3dfb c726 a8b0 2d16 b572 d869 f305 2f68 bfb6 3a28 0660 3f33 c5d6 1402 489b 9d74 1a49 78bf a031 cae4 1375 4199 270f 3aa2 4ac1 ebcf 82fe 557b 1ef8 b769 ff1e cbb7 311c f082 401d 9af3 5257 7d83 228e 8660 968a 0eb7 179c eae8 3f59 8d97 4c94 cac0 7f15 1e7f 6e88 00c2 3b45 2567 45b0 04cf 4d4d 10e9 abfa 366e 0549 122a ee2d fbe9 454a 8ad3 ce2c a962 8913 c552 71e4 4626 dfca 609c 34ab 5b32 cb96 bbdd b1e3 5c02 f471 6849 a129 8d29 bac3 87c7 c626 eb4a f341 b79d ffd3 fdc1 5fda f397 6880 2da5 b48c 0c9f 534f 4876 2828 8294 51ea 840a 6718 18d0 0bcd 8943 17e9 b5e3 2450 3351 a6ef e47f 1876 1664 e904 f54f a4f7 30d5 05b9 2d38 b456 6329 bc67 1081 98e5 cfc7 1518 b969 ff61 2935 da03 214b 35fa bd60 7520 97f3 9bb3 0f5f b28e e72c 995d 6901 52aa bdcb 71eb eb3c a8c2 ec51 80da 5859 83a5 05ce 0ae5 2b42 e117 57af 5c7e 5552 9ac0 b1da 5272 e9c7 d9c9 3985 4847 4425 e995 834e 82f7 5520 2db0 a5b1 2107 6d7d 1d28 3234 5224 c659 8694 ba36 8bf5 1f7b f92b 1331 d9cf f619 c9f1 64fc d7e8 d5e9 a1df 1a4c ab83 d05b 16a2 c00a 05f6 c879 592e f269 cf90 59e0 5e25 4c0b 64ca bb9b 5a04 244c 6091 bddd b8cb 1d4b 4485 5643 0ebd 8c96 e161 1a3c f95e c613 7cab 4e00 2839 72ec f2ab 8aae a613 0922 73a0 18a9 0c83 a7f3 6143 814b 3bd3 d6e8 23eb 5a00 2ebc 7c41 a7e9 3abf 4e4d fde1 e41f d486 098e 1b72 13fc 5836 af21 1286 3daf 0dfc ded5 49c0 5d8b b00b 8676 fa86 8c7b 6ebd 371b 7f8b 568c 6b52 8e2d 8167 3d0f 0445 8167 9b99 6a6d 27e4 4067 1d59 3217 83fa b4c4 38a1 4d44 4a94 54e7 2c03 8800 1b8b 41f6 92b6 87b7 f415 7ce7 fc24 a2c9 d599 58bd 6236 8283 af8c 7d4c 6bca 6434 299c 82b8 616a d823 ac4d 525c 9047 5e69 5051 337e 26d8 30eb c76d 6153 6a91 dc99 3213 e653 83ff de9d 49d0 baee ab2f b035 084c eb81 4cc8 8ff1 9562 a1a6 fd7b d737 b3e6 33f8 dc0c 021d 2e93 8ef4 7ec8 44a7 163d abaf d1f4 e43c c888 e34c 71cc fc0e bd83 5dcb 80a5 ca6b d08b 0598 7387 6219 676d 53ba e949 2c72 b886 8b85 28f8 af21 9445 8371 7ed0 6a97 591c 2bc1 a146 8b2f 4869 7936 6470 8cb1 2444 6ea8 6dc3 2e14 91f7 b821 c472 7490 0686 1540 aed6 88df b756 7d3c 9df1 d2db 5c93 0aaf c9d4 a04e d0cb c1e1 e486 67ef fad4 8cc0 e073 6d1a 0c21 2704 d676 1370 3ce5 8500 6087 b489 12de a7a0 f056 ed0b 0dd1 d255 ddeb 3643 2ca0 afcc cff3 a827 6543 8bf0 a815 04c4 2712 73b9 1bae 0bc5 a70f 95fb 1447 ab79 e3ed 991d 6e97 e58c 0e81 46d6 a561 ddcc a276 866c 0034 869e 2aa7 ef69 2fcf 36f4 ae31 bd81 1f52 7287 76f3 8d22 a050 b487 b0b1 2718 154c 2a6a f815
2025-12-06 00:21:00.389  INFO 28088 --- [http-nio-8080-exec-1] c.p.camera.service.MqttMessageService    : 已发送WebRTC Answer到设备 A111-bbc1234
2025-12-06 00:21:00.423  INFO 28088 --- [http-nio-8080-exec-10] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 208 bytes
2025-12-06 00:21:00.423  INFO 28088 --- [http-nio-8080-exec-10] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 6a80 baa0 60b3 a7b4 8a77 fa85 cf73 a07f 7142 cbe3 7930 2821 033f 9c96 6abf 6b49 eb9e 3140 e684 b2e6 a29f ad54 7386 7778 50b7 8d5a bf30 2907 980b 5655 9eac e8da bfd3 1f76 e58b 4c27 702f 9a74 ce3b 4acf bd6d d75a 7afe bf9d 0063 a7ac f64b 63ea d6c8 0078 6fc9 ab80 321b 084f 7068 e289 f3dd 54d9 63e4 753d f189 9676 5e4a 2224 19c6 d903 5d29 973e d4e0 73df ca1b 789d 226e dbf9 b873 a722 4f53 8698 d500 af4b 7843 9f40 7329 1574 92d1 d57b f14f 54fa 097e 5465 e631 575c 0619 5aa8 a49f f0c8
2025-12-06 00:21:00.423  INFO 28088 --- [http-nio-8080-exec-10] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:21:00.465  INFO 28088 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 208 bytes
2025-12-06 00:21:00.466  INFO 28088 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 68ad 88f1 e937 0470 c584 a588 a60b 9680 5553 d53f 023d 77fa 5ea5 d43b 5152 d616 6889 1259 280d eefd 2bb8 c141 2bb1 810a e693 b837 62b9 31f9 53d0 1e94 7887 48a0 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 08d4 2022 6350 4b80 51d0 cfe3 22f6 bf75 95d3 aeb5 086a f0c6 eb1c 5c0a de57 9c0e 8a03 aaf3 dff1 ab04 c24a 1b32 13d5 1c17 1e21 d80c d4bd 029a 1712 4a1a 7d0e ce09 df9d 1441 3671 d88f 2767 daff 289a e39e 660a a4d8 f118 b1f9 39d9 6bd2 1005 25f6 afd5 e1f8 f6ae b3a1 9fd6 b9f6 600b 405d
2025-12-06 00:21:00.466  INFO 28088 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:21:00.468  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:21:00.469  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 51d5 77cc 5dea 7d42 74d0 42ed 95df 9dd4 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 78fe 59da ef8c 8044 d7f4 fa87 6f9f 256e 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:21:00.469  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 152, "uid": "A111-bbc1234", "time": 1764951688, "status": 1 }
2025-12-06 00:21:00.469  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 152
2025-12-06 00:21:00.469  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Answer - SID: null, Status: 1
2025-12-06 00:21:00.480  INFO 28088 --- [http-nio-8080-exec-4] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764951659227
2025-12-06 00:21:00.481  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:887279211 1 udp 33562623 8.129.3.8 51963 typ relay raddr 106.47.72.198 rport 4834 generation 0 ufrag kXo3 network-cost 999","code":25,"time":1764951660,"sid":"1764951659227"}
2025-12-06 00:21:00.528  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 208 bytes
2025-12-06 00:21:00.529  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 f482 fe55 48f3 f8fd 8d63 22cc 6e77 cd3c 75ac ab3e cf43 c9dc 5bab 31b3 a1b9 d824 e09e 3efc 0c54 fcb8 3c8a 6b23 cdd0 ef8b ac43 43d1 b5a3 7e30 7b7f f92c 6bb7 b517 29c7 e500 eac5 15ba ea1d 4c5d 3628 fde7 8af6 52ed 9ad4 f8d9 7cd1 529c 64dc 2197 8259 2e3b 3f16 d76f 767f 9561 4e54 c881 d8c9 dd5d b8d2 4635 61c9 7446 dead df49 9ecc cb83 988a cf3a fd9f c681 d3c4 61ba fd2f acf0 f353 fedb 1366 f1c9 656f c50a c125 f6fd d65c 81ff 207f 3d7c f707 9089 d1fb d115 bebf cf07 2b00 c8cc 58f5 887c
2025-12-06 00:21:00.529  INFO 28088 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:21:09.272  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:21:09.274  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 5765 de32 1b98 834e 0c1a a260 b825 b830 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:21:09.275  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764951697, "status": 1 }
2025-12-06 00:21:09.275  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:21:09.275  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:21:09.304  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:21:09.304  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 5765 de32 1b98 834e 0c1a a260 b825 b830 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:21:09.304  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764951697, "status": 1 }
2025-12-06 00:21:09.304  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:21:09.304  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:21:09.304  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:21:09.304  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 5765 de32 1b98 834e 0c1a a260 b825 b830 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:21:09.304  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764951697, "status": 1 }
2025-12-06 00:21:09.305  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:21:09.305  INFO 28088 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:41:42.604  INFO 28088 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 00:41:42.605  INFO 28088 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 00:41:42.605  INFO 28088 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 00:41:42.612  INFO 28088 --- [SpringApplicationShutdownHook] c.p.camera.service.MqttMessageService    : MQTT连接已关闭
2025-12-06 00:41:42.613  INFO 28088 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-06 00:41:42.617  INFO 28088 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-06 00:41:46.020  INFO 36972 --- [main] com.pura365.camera.Application           : Starting Application using Java 14.0.1 on 张鹏朝 with PID 36972 (D:\workspace\camera-server\target\classes started by q1763 in D:\workspace\camera-server)
2025-12-06 00:41:46.021  INFO 36972 --- [main] com.pura365.camera.Application           : No active profile set, falling back to 1 default profile: "default"
2025-12-06 00:41:46.681  INFO 36972 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-06 00:41:46.689  INFO 36972 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-06 00:41:47.073  INFO 36972 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-06 00:41:47.082  INFO 36972 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-06 00:41:47.082  INFO 36972 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-12-06 00:41:47.200  INFO 36972 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-06 00:41:47.200  INFO 36972 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1153 ms
2025-12-06 00:41:48.208  INFO 36972 --- [main] c.p.camera.service.MqttMessageService    : 已连接到MQTT Broker: tcp://cam.pura365.cn:1883
2025-12-06 00:41:48.254  INFO 36972 --- [main] c.p.camera.service.MqttMessageService    : 已订阅主题: camera/pura365/+/device
2025-12-06 00:41:48.254  INFO 36972 --- [main] c.p.camera.service.MqttMessageService    : MQTT服务初始化成功
2025-12-06 00:41:48.727  INFO 36972 --- [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 00:41:48.727  INFO 36972 --- [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 1 subscriber(s).
2025-12-06 00:41:48.727  INFO 36972 --- [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-12-06 00:41:48.744  INFO 36972 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-12-06 00:41:48.750  INFO 36972 --- [main] com.pura365.camera.Application           : Started Application in 2.97 seconds (JVM running for 3.388)
2025-12-06 00:41:48.793  INFO 36972 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-06 00:41:48.793  INFO 36972 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-06 00:41:48.793  INFO 36972 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-06 00:42:15.357  INFO 36972 --- [http-nio-8080-exec-10] c.p.c.c.internal.MqttControlController   : 请求设备 A111-bbc1234 的 WebRTC Offer - SID: 1764952935352
2025-12-06 00:42:15.358  INFO 36972 --- [http-nio-8080-exec-10] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"rtc":"8.129.3.8:3478,test_rtc,test123456","code":23,"time":1764952935,"sid":"1764952935352"}
2025-12-06 00:42:15.410  INFO 36972 --- [http-nio-8080-exec-10] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 96 bytes
2025-12-06 00:42:15.410  INFO 36972 --- [http-nio-8080-exec-10] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): ed2c fe67 6b71 d554 391a 5b42 c5c5 f0a8 c74b fcf4 672f c51e 0c14 9ab4 04dc c1ed 1a9c 66e2 28ac 207c 9cd4 a5cf c7fe e9a1 5f05 1390 b9de e929 d59e 7457 4b44 7859 30ff 8e52 2c7a cc71 8e34 341a cb22 0da4 2f61 7d01 f58e 8346 6cbf b3a7 cd29 08c4
2025-12-06 00:42:15.411  INFO 36972 --- [http-nio-8080-exec-10] c.p.camera.service.MqttMessageService    : 已请求设备 A111-bbc1234 的WebRTC Offer
2025-12-06 00:42:16.355  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 2224 bytes
2025-12-06 00:42:16.365  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 6568 6067 c371 2a4e 1193 64bd 6127 9486 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 624e d82d 9a9e 2e7a 0e2b 158d 2954 465b 244a 55cf 8f5a feca cab1 f994 fa03 d057 1e5a ee62 beb5 8b90 8c80 490e 347b aa14 aba7 a9dc 3aac b449 217d 4cdc 59a4 24ef 2450 2d63 7cdf 2e6f 098d 3c7a 25da 07b2 6232 ae5e a5af 41c4 d8c5 5b9f 511b d53c b0ed 5391 9d91 2a0e ba93 49a6 8932 97c5 8536 1ded c856 44db 113f 86a4 a686 752f 94e7 d13e a54e 7339 bb6a 1f26 b7c7 4a6d 2bf8 ee20 2e24 c140 3d93 fc03 92d4 d499 4881 6d93 1730 3766 01e1 26ce 91a9 2257 c694 e7ff 257c 60f7 11c8 aca8 d143 ac31 0297 9b0b 4ad1 92a3 a137 397a ff20 1a46 8bf3 27fc 21ed b8e9 af99 686f 7a3b 325a 6bd2 f63c 80c7 95c1 0877 d713 2335 bbc4 4217 259a 171d b786 ba7d 83c0 5d47 2dda 254d bac9 03e7 1a7b bd6e 4a53 b6e3 c373 8334 0465 3736 9c4b c113 f96f cbbf 4c0c 40c2 b996 9ecc 66ed 35a4 fdc1 85e0 4e7d 0598 7387 6219 676d 53ba e949 2c72 b886 12e9 acc3 50ef c0a4 29f6 d52b e516 1ba5 a7b7 3f5c 7914 3a27 2dc8 c247 76af e09b 81a9 127e 0155 d493 e1ab 5f69 fa57 592f b04d d4d2 acf2 f589 b3f0 4638 b474 b12a 7ea8 8305 8794 319f 4a52 bce2 d6e2 1b59 ee94 d8ab 5676 7e28 d1af d0b3 e021 125d b89e 82c2 9482 4000 2f25 3768 5a53 f89f 33f3 ef8d 9133 290c 399e f20a d744 6be5 babb 0698 dbcb e538 389f cdd3 09b7 ed6e 5ca9 4f70 7845 ca56 a50a 3c48 7c2f ab19 c2a9 4d4e a56f cef5 fff7 de3c b586 fa26 6478 5b96 0fda f721 3d28 fd1f a662 2687 165d 40f2 c580 e984 c011 5b72 25dd 236b 396b 3274 d1f6 5bac 7780 f142 d1e6 d15f 9d21 7358 32de 2b12 dc57 0132 a853 578b 81ce 3854 4dda 4ef6 0426 1abb 1c70 49e5 3e62 3f35 c909 4e7a eeac e898 c05e cd3f fb03 f3d5 e1b6 c89a 8e84 93a1 4cff ecaf 71e3 494a 3b25 2356 8c60 36d9 142c 5471 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 b725 b621 aa3a 9772 477a 2e47 a51a 0b28 5f25 b6df 50f5 1611 7b4a 2ce0 a67e edf8 6ae5 6eff c949 3fc6 a985 4d2a 2e06 ceba 5a8d 9167 f67e 4fe4 4a6e 0e81 0834 2c3b 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 fe41 3a55 c7b2 06c7 53f3 ccf8 1777 a4ce 3b61 7cc8 f5b0 779e c619 dd77 4db6 b63e 248c ea57 d198 956f c18f 1558 f181 d9e1 2b4e b29a 0f71 34a0 1948 b9b1 d7a8 5da8 cd0d 98f2 2e96 8395 639d ba93 1980 45de b126 c189 2430 2e78 6987 988d 12bd d57b ed13 efef 0f6f de2e b86e 1fed f765 38a2 650d 3746 0368 7270 5c76 7710 c3fb 03eb ce00 7a49 9cc6 e844 5d89 39c6 8d9c e509 0602 136b a4ea 24aa 6937 07f4 2988 a81c 72a7 9810 8329 042d 281e 537c e2ce f675 a760 871d 55a1 1ca4 3900 9de6 c0a8 0b42 557b b7ed f11a 6706 5921 d360 26ed 52af 1e68 49ec c7ff 15a0 a55f cbf1 e966 f4cb e5b7 cf58 d592 c93a 03c7 1b26 7431 405f bfa0 aa38 adc3 3cfe dd82 7a0b b4a8 1075 56a1 3679 575a cf2c 0fd2 a3d8 1f69 b480 08ae 1b1e da7d 4f69 16e1 b349 bc15 b168 5461 b17b 29e1 87fd 3374 2628 3cb5 ac80 4e4d fde1 e41f d486 098e 1b72 13fc 5836 4760 b00f 6b25 d1f2 cd1d f8f3 a3f3 5960 9d16 5f50 1161 a1a1 b882 5c18 7d81 19e8 c405 2d75 d89b d648 c94e 33d1 b96e 3eaf 8da9 9d90 8004 f2b5 5b9c b95c 6199 ead9 5b71 d591 93ff 8397 e6fa 3190 e527 8fb8 a94b a995 6435 3b4b a17e 352b b7e7 f912 a669 70b3 7dee 7c77 1489 7fff 80bc 51c6 a533 a307 8692 bdb5 39be 5a4e 4660 9e59 0d5a ad22 65f0 7d91 5d8c af32 c350 9e0b 600e b493 b39e 3f61 7781 e18a eabf 66a3 802c ad81 2548 8012 7271 3f78 bb0a d6b5 7fc5 d931 1ed5 c255 9e9e 2de3 88ec e359 48a8 b0d8 12aa 0dad ac97 ee39 e0ce 1ab2 c7e1 ea97 57ba 1bd2 8c38 8e6f 44eb 7c66 8367 94ff 16e5 ed9f d067 8d78 9883 403c dd6c 8ba5 513c c08e eaa8 1620 5c20 3540 5bc9 7cf0 41d7 26d2 16f2 5fd2 751e 75a3 30a4 38de 6181 4ce2 f0ff 6257 556d b488 f10c ef18 fc86 16d2 74eb a1e7 a438 990d 84d8 d5ef b273 bc58 e5a5 00f7 c48f e590 83f0 685f 9370 46c6 204c c25a 658a 41a1 50f9 4aa1 8fbe e11e f651 c51f 278a 80f3 7a7f 1592 745c 969e 766e d933 ecb8 015e 4e43 de0a bf74 cc55 f3aa d0b4 1f31 81d4 cd4b 1091 82c7 1f5f da87 3e0e ae3c d429 6e46 3bc5 d222 9085 0eef d12c fa12 407d 12db d971 f817 0b0b f71b 98c5 5ee3 fb30 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 ebd1 7b67 28d5 8949 7464 9e81 26e9 0b60 3a15 d385 dee5 7018 5582 dc1a b1e5 8d60 b75c f5a2 ec43 6ecb 2aae f145 382d c4bf d3e0 7d49 7c2c 54a9 f16f baf7 01f7 9333 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 6d71 ce1a 504b 1ec3 ddde da36 57ae 55c7 5e42 675a c7d5 b14e fa84 fb2a 7fe8 10d6 92f8 5b94 685e c5bb 6081 4194 1c62 fd8f 0ac6 329f bd1a 3e3f dcd2 ae28 20e7 4a41 c9b7 7e6e e9d6 8660 57de 9256 8e8e 229b 6e24 2cda 5d89 c9fc ed82 5925 d9a1 c5f4 158e 5f01 88e2 cf28 5cd4 d7d4 9aae 693b 0e5c fbc6 2eef 92e3 2252 ab55 c622 1722 76fa 4ba1 ccc2 0ab4 f9fe ddea d1b6 d14f f34f c86d 37a0 11e8 74bb 8139 159e 60fa fb18 8f59 32e5 154b fe4d 9918 0b89 a0c8 33dd 1f00 d5b4 6822 49e7 eb14 9830 df73 12ae ed09 42f4 19b9 1879 92d4 ad59 a78c 1a2d 0dee 59e3 660e f889 36b9 b35f c7dc efd9 cbbb beb7 e0a0 6f80 6e1f a179 99ed 4a60 af2f 824c c16a 8899 9d37 fb0f 4f02 5586 ba39 ae56 ffa2 e55c bc09 68c8 660b 2cde 09d0 66e9 07d0 ac2a 48c7 bb88 56c3 39a0 889a e86b 1a27 ad1d 0bf9 e8c0 4b65 9ae7 8a23 b342 cce4 aabb 120d 736b 59fa 9375 2a1c f372 d6c5 9a85 c3ff 773c 3d14 f8e3 a33a 1bd1 e0bd 310a 9440 9c95 fb20 cb9f baac 701b 83b2 e42a 0775 b45d 1884 66f4 6ed5 b085 5fc8 c979 0b4e 88ae d78a c1a0 d44b 5e50 9d05 4fba 5875 b6e9 7244 6629 9177 c655 2029 b6bb a844 0c44 84ff 8d0a 0ea0 01ab 8846 7d24 2671 337c 1467 2694 5652 5183 9477 ae17 6962 382f 0d73 12e7 d1e8 1ef5 6ff4 54c5 0587 ce3d 6913 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 80bb 6d7c 8e8b 7370 9993 d3ad 215b 855f 89bb 7ace 5894 f397 4d12 db1b 4616 4bf4 391e c31c 4a54 19a9 3d96 e8e1 acaf 9a19 8581 a5b4 a98f fda8 da28 9132 3afb 61c8 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 0868 9077 d7c3 621f 0b0e 80d3 93db 523d f454 952a 67f4 34e9 7fde 9b2f 7d28 5a18 082f ef39 5bf8 082b 2212 4437 c2ec f4d5
2025-12-06 00:42:16.366  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 151, "uid": "A111-bbc1234", "time": 1764952964, "sdp": "v=0\r\no=- 1495799811084970 1495799811084970 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\na=msid-semantic: iot\r\na=group:BUNDLE 0 1 2\r\nm=audio 9 UDP\/TLS\/RTP\/SAVP 8\r\na=rtpmap:8 PCMA\/8000\r\na=ssrc:12345679 cname:webrtc-pcma\r\na=sendrecv\r\na=mid:0\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 B4:82:24:9E:C8:BB:FC:56:5D:1E:2D:E9:67:A4:C1:98:A1:0D:95:5B:07:43:00:0D:7B:8A:55:AE:90:AE:89:80\r\na=setup:passive\r\na=ice-ufrag:d4K0\r\na=ice-pwd:d4K0Yccvu35ZxMJRGiNADWTl\r\na=candidate:0 1 UDP 2124478463 192.168.31.57 41207 typ host\r\na=candidate:2 1 UDP 1688270847 123.144.114.73 41207 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 15692543 8.129.3.8 61298 typ relay raddr 0.0.0.0 rport 0\r\nm=video 9 UDP\/TLS\/RTP\/SAVPF 96 102\r\na=rtcp-fb:96 nack pli\r\na=rtcp-fb:102 nack pli\r\na=rtpmap:96 H264\/90000\r\na=rtpmap:102 H264\/90000\r\na=fmtp:96 profile-level-id=42e01f;packetization-mode=1;level-asymmetry-allowed=1\r\na=fmtp:102 profile-level-id=64001f;packetization-mode=1;level-asymmetry-allowed=1\r\na=ssrc:12345678 cname:webrtc-h264\r\na=sendonly\r\na=mid:1\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 B4:82:24:9E:C8:BB:FC:56:5D:1E:2D:E9:67:A4:C1:98:A1:0D:95:5B:07:43:00:0D:7B:8A:55:AE:90:AE:89:80\r\na=setup:passive\r\na=ice-ufrag:d4K0\r\na=ice-pwd:d4K0Yccvu35ZxMJRGiNADWTl\r\na=candidate:0 1 UDP 2124478463 192.168.31.57 41207 typ host\r\na=candidate:2 1 UDP 1688270847 123.144.114.73 41207 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 15692543 8.129.3.8 61298 typ relay raddr 0.0.0.0 rport 0\r\nm=application 50712 UDP\/DTLS\/SCTP webrtc-datachannel\r\na=mid:2\r\na=sctp-port:5000\r\nc=IN IP4 0.0.0.0\r\na=max-message-size:262144\r\na=fingerprint:sha-256 B4:82:24:9E:C8:BB:FC:56:5D:1E:2D:E9:67:A4:C1:98:A1:0D:95:5B:07:43:00:0D:7B:8A:55:AE:90:AE:89:80\r\na=setup:passive\r\na=ice-ufrag:d4K0\r\na=ice-pwd:d4K0Yccvu35ZxMJRGiNADWTl\r\na=candidate:0 1 UDP 2124478463 192.168.31.57 41207 typ host\r\na=candidate:2 1 UDP 1688270847 123.144.114.73 41207 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 15692543 8.129.3.8 61298 typ relay raddr 0.0.0.0 rport 0\r\n", "sid": "1764952935352", "status": 1 }
2025-12-06 00:42:16.391  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 151
2025-12-06 00:42:16.393  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Offer - SID: 1764952935352, Status: 1
2025-12-06 00:42:16.393  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 已缓存 WebRTC Offer, SID: 1764952935352
2025-12-06 00:42:16.504  INFO 36972 --- [http-nio-8080-exec-2] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Answer 到设备 A111-bbc1234 - SID: 1764952935352
2025-12-06 00:42:16.505  INFO 36972 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"code":24,"time":1764952936,"sdp":"v=0\r\no=- 7260701915228229070 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1 2\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVP 8\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:pMAp\r\na=ice-pwd:TWYldZ3syYrKqn35pBCgQ49B\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7C:82:DB:5A:25:58:A7:82:12:B2:C0:48:CC:39:AA:1B:25:9C:1B:17:B4:F6:37:80:DA:0F:0F:E0:5D:C9:9B:56\r\na=setup:active\r\na=mid:0\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:8 PCMA/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 96\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:pMAp\r\na=ice-pwd:TWYldZ3syYrKqn35pBCgQ49B\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7C:82:DB:5A:25:58:A7:82:12:B2:C0:48:CC:39:AA:1B:25:9C:1B:17:B4:F6:37:80:DA:0F:0F:E0:5D:C9:9B:56\r\na=setup:active\r\na=mid:1\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:96 H264/90000\r\na=rtcp-fb:96 nack pli\r\na=fmtp:96 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:pMAp\r\na=ice-pwd:TWYldZ3syYrKqn35pBCgQ49B\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7C:82:DB:5A:25:58:A7:82:12:B2:C0:48:CC:39:AA:1B:25:9C:1B:17:B4:F6:37:80:DA:0F:0F:E0:5D:C9:9B:56\r\na=setup:active\r\na=mid:2\r\na=sctp-port:5000\r\na=max-message-size:262144\r\n","sid":"1764952935352"}
2025-12-06 00:42:16.506  INFO 36972 --- [http-nio-8080-exec-5] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764952935352
2025-12-06 00:42:16.506  INFO 36972 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:2040066752 1 udp 2113937151 4f504f07-7716-4eba-872f-35900cfa5468.local 55534 typ host generation 0 ufrag pMAp network-cost 999","code":25,"time":1764952936,"sid":"1764952935352"}
2025-12-06 00:42:16.551  INFO 36972 --- [http-nio-8080-exec-4] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764952935352
2025-12-06 00:42:16.552  INFO 36972 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:3272692948 1 udp 1677729535 106.47.72.198 3827 typ srflx raddr 0.0.0.0 rport 0 generation 0 ufrag pMAp network-cost 999","code":25,"time":1764952936,"sid":"1764952935352"}
2025-12-06 00:42:16.554  INFO 36972 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 1376 bytes
2025-12-06 00:42:16.556  INFO 36972 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): c874 0ee4 6ab1 63a9 d285 ba78 7fe3 17f0 c4c9 8b44 3147 aad0 36b4 d685 a45f e0b7 5361 a50b 5e97 a00d 39f2 d12b 70a9 6758 6237 3682 dbf3 0ae6 5cd4 30c6 bc2e 92ef d694 e1de 887b ddbc 51ff cc9e ff5d 120b 76d7 00e4 96d3 5fbe ca50 a0dc 7274 c1ac 900e 99f4 9317 9466 9444 f0d4 84fc 7fcc 94e7 d13e a54e 7339 bb6a 1f26 b7c7 4a6d b0ed 5391 9d91 2a0e ba93 49a6 8932 97c5 44eb c602 bb59 4532 f48a 53ca e748 691b a4fc 9cd9 9513 bcfb 9acd e23a 459b 427f b089 9918 7cd6 9917 1512 d8d6 d75e a0be 4a98 20e9 2025 2b24 6050 0962 6c30 b2a3 ab44 0a96 5177 51b4 67f4 56e1 1c9b 3f33 2f7f c531 0f04 7629 2f8d 1a1b 3119 e031 79b7 2c35 29ab a269 4203 afcd d5aa cbf0 cadd 808f f4ee df63 6c98 d387 7978 2abc 1f3a 280f fc1f 7760 74bd 5c18 167b 9191 9057 668b 435c c458 632d e52e 641d 0a40 f70a 57b2 fb2a b2fe b4b6 c89f 63c2 73fc f34f c86d 37a0 11e8 74bb 8139 159e 60fa f8f0 864b 43df 8b86 f2ac ab9a 25d8 fad5 ce27 d79b 1d59 0005 c2bd 9ae8 57c3 34b2 4f52 3bcd a120 e17b a6a1 beac 1795 3c28 7cd2 8a59 7617 63af e69c ab6b 4133 d353 08c9 fb4a 45fc 8838 357c 52ec 006d d4c3 b937 4a6d 92c7 c075 c5f2 b734 781e 9d4a c343 6775 49c7 4877 3dfb c726 a8b0 2d16 b572 d869 f305 2f68 bfb6 3a28 0660 3f33 c5d6 1402 489b 9d74 1a49 78bf a031 cae4 1375 4199 270f 3aa2 4ac1 ebcf 82fe 557b 1ef8 b769 ff1e cbb7 311c f082 401d 9af3 5257 7d83 228e 8660 968a 0eb7 179c eae8 3f59 8d97 4c94 cac0 7f15 1e7f 6e88 00c2 3b45 2567 45b0 04cf 4d4d 10e9 abfa 366e 0549 122a ee2d fbe9 454a 8ad3 ce2c a962 8913 c552 71e4 4626 dfca 609c 34ab 5b32 cb96 bbdd b1e3 5c02 f471 6849 a129 8d29 565f 4e7a a5ec c6f6 cdd8 be7a fa66 ecba 2a19 963d 73b0 892f e373 a833 d0c7 6197 8c36 4ac4 14c2 172b aac7 df1c fdfc 71dd 17e9 b5e3 2450 3351 a6ef e47f 1876 1664 e904 f54f a4f7 30d5 05b9 2d38 b456 6329 7809 6396 6d92 2580 045b cef3 55c8 3fd2 7b35 12aa 3632 5294 0c3f 14f7 f35c 42fb 32e2 af4e aa28 520a 4a28 0be2 176d 99ed cfce 46ce f62b 72ef 099d ca06 0fe4 fd9b f998 d462 9c8a ec29 eff7 2c2b 4bea f2cb 18f2 f799 2693 899c 991f 48dc cbee c2c5 39e9 f5a6 9235 3659 f34a 59c4 69fc b9b1 8694 ba36 8bf5 1f7b f92b 1331 d9cf f619 c9f1 64fc d7e8 d5e9 a1df 1a4c ab83 d05b 16a2 c00a 05f6 c879 592e f269 cf90 59e0 5e25 4c0b 64ca bb9b 5a04 244c 6091 bddd b8cb 1d4b 4485 5643 0ebd 8c96 e161 1a3c f95e c613 7cab 4e00 2839 72ec f2ab 8aae a613 0922 73a0 18a9 0c83 a7f3 6143 814b 3bd3 d6e8 23eb 5a00 2ebc 7c41 a7e9 3abf 4e4d fde1 e41f d486 098e 1b72 13fc 5836 af21 1286 3daf 0dfc ded5 49c0 5d8b b00b 8676 fa86 8c7b 6ebd 371b 7f8b 568c 6b52 8e2d 8167 3d0f 0445 8167 9b99 6a6d 27e4 4067 1d59 3217 83fa b4c4 38a1 4d44 4a94 54e7 2c03 8800 1b8b 41f6 92b6 87b7 f415 7ce7 fc24 a2c9 d599 58bd 6236 8283 af8c 7d4c 6bca 6434 299c 82b8 616a d823 ac4d 525c 9047 5e69 5051 337e 26d8 30eb c76d 7d8b fbc8 8c1f 0405 e36f 7d61 cc28 5d37 3f7f 9445 2c9e f04f f9ba d125 3540 06cc b87e 7330 b1dc 63df 82b0 c8e3 2590 3a93 8ef4 7ec8 44a7 163d abaf d1f4 e43c c888 e34c 71cc fc0e bd83 5dcb 80a5 ca6b d08b 0598 7387 6219 676d 53ba e949 2c72 b886 54ac 6d7c 8d22 ba13 ef17 60b1 6d6e 166c 67fc 3fb3 ba6f 3a55 8eea 7576 4ff0 bae4 6bd9 52bd 0b78 d8cd 0b6f d27c cd11 414c 9c25 2985 a570 8154 86b8 ad3b 3893 5873 94e9 dcdf 022c 23af b87d 7b36 37ed 69bd 476d fb9f d366 3903 e69b 4aec 05d7 2a3d be24 3ad4 6432 5344 22db c964 47ec 81a1 d255 ddeb 3643 2ca0 afcc cff3 a827 6543 8bf0 a815 04c4 2712 73b9 1bae 0bc5 a70f 95fb 1447 ab79 e3ed 991d 6e97 e58c 0e81 46d6 a561 ddcc a276 866c 0034 869e 2aa7 ef69 2fcf 36f4 ae31 bd81 1f52 7287 76f3 20dd 4d6b ed8c 2904 9e32 9e86 b3cd 44ee
2025-12-06 00:42:16.556  INFO 36972 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 已发送WebRTC Answer到设备 A111-bbc1234
2025-12-06 00:42:16.604  INFO 36972 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 208 bytes
2025-12-06 00:42:16.604  INFO 36972 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 e7e0 f4a8 1fe0 c8a3 3575 505f 5a2f ddbe f1fe cda1 ce3a c725 3a73 b9bf 247f 92fd 7247 7d75 9624 d411 498c 40bd a875 141d 5722 e5cc 22bb 10bf ed8a 6d21 d566 f8fc c6c7 d90f 9943 87f0 69e1 f56e 4ead 656b aa58 85e5 5e7b abb5 214b 0bf7 e978 81a2 d6c8 0078 6fc9 ab80 321b 084f 7068 e289 cb0d 0b96 094b 4710 292d aa8a 2cb8 04e6 19c6 d903 5d29 973e d4e0 73df ca1b 789d 5c35 bd00 2cf2 476c f1d2 e0a5 3c0a b916 a7f9 69f8 6d1c 1d12 630c f6ef b8b8 cf66 6cf7 46af de27 ae55 413d 204d 0aac 64ce
2025-12-06 00:42:16.604  INFO 36972 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:42:16.650  INFO 36972 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 208 bytes
2025-12-06 00:42:16.650  INFO 36972 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 f055 c540 fb27 a27f 905b 95f6 e668 cbb5 48b8 dbcd 2992 4f15 efca 578f c6b8 d7ab a65f 25d8 bb75 bbd8 7b49 f110 9293 6008 8707 87d3 5c95 1128 05c7 cb25 9d48 2f0c 5afd ebf6 efdf 04f9 a853 618e 4def cb3f 0789 2c38 fc71 7d10 cfbe 440e 6b55 ae69 2fe0 a368 9e9a 2f8c 9a3b 11c6 5612 2e82 099e e066 5eed 7679 26f3 66df 778f f5aa b441 30c6 392a f02f 5885 cf6a 9c68 7827 fd48 d0a8 a447 bc95 8e02 97bf 186e 010f 1ab8 6f29 a1b9 97e7 586d 7672 f83b bd26 e24d b2b9 ff8a a437 e423 399b 3562 72b2
2025-12-06 00:42:16.650  INFO 36972 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:42:16.656  INFO 36972 --- [http-nio-8080-exec-3] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764952935352
2025-12-06 00:42:16.656  INFO 36972 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:3923859131 1 udp 33562623 8.129.3.8 63642 typ relay raddr 106.47.72.198 rport 3827 generation 0 ufrag pMAp network-cost 999","code":25,"time":1764952936,"sid":"1764952935352"}
2025-12-06 00:42:16.674  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:42:16.674  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 51d5 77cc 5dea 7d42 74d0 42ed 95df 9dd4 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 e573 dec1 ff67 0e42 5296 f11f ba6d b41a 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:42:16.675  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 152, "uid": "A111-bbc1234", "time": 1764952965, "status": 1 }
2025-12-06 00:42:16.675  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 152
2025-12-06 00:42:16.675  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Answer - SID: null, Status: 1
2025-12-06 00:42:16.703  INFO 36972 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 208 bytes
2025-12-06 00:42:16.703  INFO 36972 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 7425 bcf9 ee8a 6e1d db64 d42b dc81 ceec c3ff 263a d6f5 e984 c159 e7b8 b6a5 7984 f675 4a91 2f1c a2ae c383 7d1b 557b 61dc f554 71d8 2c5f 3851 dc68 c0e3 16be e456 0c7a 22d7 23e3 eac2 7e1b 6abe deeb 7d63 3652 2c36 ab5a 5811 4cfa 2da5 175d 6066 d6ff e035 4b37 3e9f 9379 db7e a158 e32c b0e0 da77 61e9 925c aad4 e3cd a05f 0054 6966 80e1 a16f e831 d996 1d64 9cb0 9cba de70 7766 9a05 acd1 e99f 2e21 264b 7cf5 5ccb 3afd cef5 cefb bbf3 3691 c60a 36b5 0d61 c344 69ba 28cd 191d 9e92 176b 3277
2025-12-06 00:42:16.704  INFO 36972 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:42:28.695  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:42:28.696  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 0ab4 3e29 791f 83c7 73d1 be6b d061 76ec 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:42:28.696  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764952977, "status": 1 }
2025-12-06 00:42:28.697  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:42:28.697  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:42:28.768  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:42:28.769  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 0ab4 3e29 791f 83c7 73d1 be6b d061 76ec 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:42:28.770  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764952977, "status": 1 }
2025-12-06 00:42:28.770  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:42:28.770  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:42:28.770  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:42:28.772  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 0ab4 3e29 791f 83c7 73d1 be6b d061 76ec 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:42:28.772  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764952977, "status": 1 }
2025-12-06 00:42:28.772  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:42:28.772  INFO 36972 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:48:50.014  INFO 36972 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 00:48:50.015  INFO 36972 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 00:48:50.015  INFO 36972 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 00:48:50.019  INFO 36972 --- [SpringApplicationShutdownHook] c.p.camera.service.MqttMessageService    : MQTT连接已关闭
2025-12-06 00:48:52.480  INFO 38876 --- [main] com.pura365.camera.Application           : Starting Application using Java 14.0.1 on 张鹏朝 with PID 38876 (D:\workspace\camera-server\target\classes started by q1763 in D:\workspace\camera-server)
2025-12-06 00:48:52.482  INFO 38876 --- [main] com.pura365.camera.Application           : No active profile set, falling back to 1 default profile: "default"
2025-12-06 00:48:53.072  INFO 38876 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-06 00:48:53.081  INFO 38876 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-06 00:48:53.428  INFO 38876 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-06 00:48:53.435  INFO 38876 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-06 00:48:53.435  INFO 38876 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-12-06 00:48:53.548  INFO 38876 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-06 00:48:53.548  INFO 38876 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1041 ms
2025-12-06 00:48:54.549  INFO 38876 --- [main] c.p.camera.service.MqttMessageService    : 已连接到MQTT Broker: tcp://cam.pura365.cn:1883
2025-12-06 00:48:54.601  INFO 38876 --- [main] c.p.camera.service.MqttMessageService    : 已订阅主题: camera/pura365/+/device
2025-12-06 00:48:54.601  INFO 38876 --- [main] c.p.camera.service.MqttMessageService    : MQTT服务初始化成功
2025-12-06 00:48:55.033  INFO 38876 --- [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 00:48:55.033  INFO 38876 --- [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 1 subscriber(s).
2025-12-06 00:48:55.033  INFO 38876 --- [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-12-06 00:48:55.052  INFO 38876 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-12-06 00:48:55.060  INFO 38876 --- [main] com.pura365.camera.Application           : Started Application in 2.816 seconds (JVM running for 3.221)
2025-12-06 00:48:55.292  INFO 38876 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-06 00:48:55.293  INFO 38876 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-06 00:48:55.293  INFO 38876 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-06 00:48:58.208  INFO 38876 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 00:48:58.208  INFO 38876 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 00:48:58.208  INFO 38876 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 00:48:58.212  INFO 38876 --- [SpringApplicationShutdownHook] c.p.camera.service.MqttMessageService    : MQTT连接已关闭
2025-12-06 00:49:00.687  INFO 38168 --- [main] com.pura365.camera.Application           : Starting Application using Java 14.0.1 on 张鹏朝 with PID 38168 (D:\workspace\camera-server\target\classes started by q1763 in D:\workspace\camera-server)
2025-12-06 00:49:00.688  INFO 38168 --- [main] com.pura365.camera.Application           : No active profile set, falling back to 1 default profile: "default"
2025-12-06 00:49:01.264  INFO 38168 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-06 00:49:01.273  INFO 38168 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-06 00:49:01.616  INFO 38168 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-06 00:49:01.622  INFO 38168 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-06 00:49:01.623  INFO 38168 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-12-06 00:49:01.739  INFO 38168 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-06 00:49:01.740  INFO 38168 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1025 ms
2025-12-06 00:49:02.726  INFO 38168 --- [main] c.p.camera.service.MqttMessageService    : 已连接到MQTT Broker: tcp://cam.pura365.cn:1883
2025-12-06 00:49:02.773  INFO 38168 --- [main] c.p.camera.service.MqttMessageService    : 已订阅主题: camera/pura365/+/device
2025-12-06 00:49:02.773  INFO 38168 --- [main] c.p.camera.service.MqttMessageService    : MQTT服务初始化成功
2025-12-06 00:49:03.228  INFO 38168 --- [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 00:49:03.228  INFO 38168 --- [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 1 subscriber(s).
2025-12-06 00:49:03.228  INFO 38168 --- [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-12-06 00:49:03.246  INFO 38168 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-12-06 00:49:03.253  INFO 38168 --- [main] com.pura365.camera.Application           : Started Application in 2.827 seconds (JVM running for 3.253)
2025-12-06 00:49:03.306  INFO 38168 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-06 00:49:03.306  INFO 38168 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-06 00:49:03.307  INFO 38168 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-06 00:49:22.542  INFO 38168 --- [http-nio-8080-exec-3] c.p.c.c.internal.MqttControlController   : 请求设备 A111-bbc1234 的 WebRTC Offer - SID: 1764953362535
2025-12-06 00:49:22.546  INFO 38168 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"rtc":"8.129.3.8:3478,test_rtc,test123456","code":23,"time":1764953362,"sid":"1764953362535"}
2025-12-06 00:49:22.599  INFO 38168 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 96 bytes
2025-12-06 00:49:22.600  INFO 38168 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): ed2c fe67 6b71 d554 391a 5b42 c5c5 f0a8 c74b fcf4 672f c51e 0c14 9ab4 04dc c1ed 1a9c 66e2 28ac 207c 9cd4 a5cf c7fe e9a1 5f05 1390 b9de e929 d59e 7457 4b44 7859 89ff cd8b 6831 ce8f 411f ea0e 6733 8890 2705 6d9d eca2 3ac0 f4d9 83ea 6a67 7b12
2025-12-06 00:49:22.600  INFO 38168 --- [http-nio-8080-exec-3] c.p.camera.service.MqttMessageService    : 已请求设备 A111-bbc1234 的WebRTC Offer
2025-12-06 00:49:24.087  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 2224 bytes
2025-12-06 00:49:24.096  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 6568 6067 c371 2a4e 1193 64bd 6127 9486 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 63cd 998f 5077 0821 6a02 4991 1263 9a2a 244a 55cf 8f5a feca cab1 f994 fa03 d057 1e5a ee62 beb5 8b90 8c80 490e 347b aa14 aba7 a9dc 3aac b449 217d 4cdc 59a4 24ef 2450 2d63 7cdf 2e6f 098d 3c7a 25da 07b2 6232 ae5e a5af 41c4 d8c5 5b9f 511b d53c b0ed 5391 9d91 2a0e ba93 49a6 8932 97c5 8536 1ded c856 44db 113f 86a4 a686 752f 94e7 d13e a54e 7339 bb6a 1f26 b7c7 4a6d 2bf8 ee20 2e24 c140 3d93 fc03 92d4 d499 4881 6d93 1730 3766 01e1 26ce 91a9 2257 c694 e7ff 257c 60f7 11c8 aca8 d143 ac31 0297 9b0b 4ad1 92a3 a137 397a ff20 1a46 8bf3 27fc 21ed b8e9 af99 686f 7a3b 325a 6bd2 f63c 80c7 95c1 0877 d713 2335 bbc4 4217 259a 171d b786 ba7d 83c0 5d47 2dda 254d bac9 03e7 1a7b bd6e 4a53 b6e3 c373 8334 0465 3736 9c4b c113 f96f cbbf 4c0c 40c2 b996 9ecc 66ed 35a4 fdc1 85e0 4e7d 0598 7387 6219 676d 53ba e949 2c72 b886 e126 b90e 246d 1b76 9e61 11a5 9a2d 348e f23b 131f 313c b2f7 bd60 0a15 226c 114f da51 1358 9b94 8e45 a17e d149 6f9f 6923 759c 2a76 feab e950 2ba1 b46d f780 81f3 5e72 ffe3 7791 1f6a 87c2 44fd f425 165a a438 7f79 1414 12c9 902b 2aeb 9720 a565 caf1 41ae 9456 d1e5 549c c97e b717 da27 33f3 ef8d 9133 290c 399e f20a d744 6be5 7b6a 20a9 04c7 9ed0 14d6 d0e5 ea5b 98e0 4e9b 2230 344e c57f 1018 7f85 bf99 33a1 78ab 8bbe 2570 5273 2318 784f 016d 671a 6478 5b96 0fda f721 3d28 fd1f a662 2687 9b9d 6e8a 5335 acf4 1013 4ef3 7d57 2ff5 b89b 17eb 15dd 3ebf 13e0 5f92 a640 67e1 f805 8458 edc2 91ef c0bf 6399 f49c 288e 81ce 3854 4dda 4ef6 0426 1abb 1c70 49e5 567b 78c0 3a78 affa 5ae9 942c 766b 8291 fb03 f3d5 e1b6 c89a 8e84 93a1 4cff ecaf 9a04 03e9 bed5 0e32 0f2e 7392 90e7 b81c 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 b725 b621 aa3a 9772 477a 2e47 a51a 0b28 caf2 8ab6 3a88 b212 938e 10d2 94ee dc77 7653 688e 0968 d76a b77c 3fbb 889a 4aef 11c5 9c43 fc36 ed42 9f22 2ceb 9751 28a3 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 fe41 3a55 c7b2 06c7 53f3 ccf8 1777 a4ce 3b61 7cc8 f5b0 779e c619 dd77 4db6 b63e 248c ea57 d198 956f c18f 1558 f181 d9e1 2b4e b29a 0f71 34a0 1948 b9b1 d7a8 5da8 cd0d 98f2 2e96 8395 639d ba93 1980 45de b126 c189 2430 2e78 6987 988d 12bd d57b ed13 efef 0f6f de2e b86e 1fed f765 38a2 650d 3746 0368 7270 5c76 7710 c3fb 03eb ce00 7a49 9cc6 e844 5d89 39c6 8d9c e509 0602 136b a4ea 24aa 6937 07f4 2988 a81c 72a7 9810 8329 042d 281e 537c e2ce f675 a760 871d 55a1 1ca4 3900 9de6 c0a8 0b42 557b b7ed f11a 6706 5921 d360 26ed 52af 1e68 49ec c7ff 15a0 a55f cbf1 e966 f4cb e5b7 cf58 d592 c93a 03c7 1b26 7431 405f bfa0 aa38 adc3 3cfe dd82 7a0b b4a8 1075 56a1 3679 575a cf2c 0fd2 a3d8 1f69 b480 08ae 1b1e da7d 4f69 16e1 b349 bc15 b168 5461 b17b 29e1 87fd 3374 2628 3cb5 ac80 4e4d fde1 e41f d486 098e 1b72 13fc 5836 4760 b00f 6b25 d1f2 cd1d f8f3 a3f3 5960 9d16 5f50 1161 a1a1 b882 5c18 7d81 19e8 c405 2d75 d89b d648 c94e 33d1 b96e 3eaf 8da9 9d90 8004 f2b5 5b9c b95c 6199 ead9 5b71 d591 93ff 8397 e6fa 3190 e527 8fb8 a94b a995 6435 3b4b a17e 352b b7e7 f912 a669 70b3 7dee 7c77 1489 7fff 80bc 51c6 134f a169 84bf 6375 0861 a451 b7dc abb5 7f4e 6408 559f 9275 1303 ccbd 4195 a357 b7d3 cc43 8ff3 96e8 2644 31b2 9ca9 cb3a 5832 db2f 4ece c220 43c1 191c da5c 1a48 6411 3458 52e6 f6b2 4824 f445 7ed3 e048 5a99 8285 a063 4cfe 89ce 2549 a327 e2e8 4cd9 508d 85a4 307b cc6c 8e84 1562 e3ea 8367 94ff 16e5 ed9f d067 8d78 9883 403c c331 8ce0 986f 73a2 2df5 eefb 42dd db45 cbf9 77a0 9f4f c248 e639 e4ac dd85 6014 fc1a cac8 1484 4649 ca96 3fec 05e1 70e1 29f9 20e0 17ad d502 60a2 1436 060e 35e0 84d8 d5ef b273 bc58 e5a5 00f7 c48f e590 2f24 e61a b439 c014 0722 5492 2372 08ea 60e6 54e1 1b51 0ba0 a0e1 05bf 6907 2cd5 7a7f 1592 745c 969e 766e d933 ecb8 015e 4e43 de0a bf74 cc55 f3aa d0b4 1f31 81d4 1188 70ae 1c27 a0f9 e0e6 c202 fb4d f04e 5218 e248 0794 62b2 dc18 ffdd d618 dc09 12db d971 f817 0b0b f71b 98c5 5ee3 fb30 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 ebd1 7b67 28d5 8949 7464 9e81 26e9 0b60 034e 9b60 5348 2e07 487e cc5b 24c3 87e9 43f7 d3c8 8a8a 5fe0 b350 9a74 d8f1 c91a d3e0 7d49 7c2c 54a9 f16f baf7 01f7 9333 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 6d71 ce1a 504b 1ec3 ddde da36 57ae 55c7 5e42 675a c7d5 b14e fa84 fb2a 7fe8 10d6 92f8 5b94 685e c5bb 6081 4194 1c62 fd8f 0ac6 329f bd1a 3e3f dcd2 ae28 20e7 4a41 c9b7 7e6e e9d6 8660 57de 9256 8e8e 229b 6e24 2cda 5d89 c9fc ed82 5925 d9a1 c5f4 158e 5f01 88e2 cf28 5cd4 d7d4 9aae 693b 0e5c fbc6 2eef 92e3 2252 ab55 c622 1722 76fa 4ba1 ccc2 0ab4 f9fe ddea d1b6 d14f f34f c86d 37a0 11e8 74bb 8139 159e 60fa ee01 52e2 8d82 b212 62e1 abc4 b0ab b645 995d e1d4 5d69 70f6 8f32 2eb1 8320 5471 a444 550a 78ad d5ff fcf2 feea 550c ad70 0a9e 9617 718c 2980 fd97 f7f9 8424 665e 4ab1 6d3f 366b a3db dfc5 d662 1358 a9ab bddb 7d68 2716 751b 5e31 5dcf 9ced 292e 5586 ba39 ae56 ffa2 e55c bc09 68c8 660b 2cde 09d0 66e9 07d0 ac2a 48c7 bb88 56c3 e308 fab5 834e c0e2 0e1c 9534 8589 4c4c 365f 5029 538a 394b c2f6 7aab 23c2 f5cb ec24 5f8c 93a4 89ad 5021 054d cb0a 2982 f8e3 a33a 1bd1 e0bd 310a 9440 9c95 fb20 8ef2 4458 487a 0e5f 4306 8300 e0a4 3182 2dad da9a 4c79 2e70 afeb 2865 61e7 09d2 6416 5825 9056 efac 8eff 444c ceaa 21a9 6629 9177 c655 2029 b6bb a844 0c44 84ff b859 b2be 4f05 3779 09a7 adfa 741e 6fa0 d039 cc55 971e fb24 4a46 5ffb 7323 2bdf 7b03 3eea 799e 23e9 e86e 39dd 17bb 0dab 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 80bb 6d7c 8e8b 7370 9993 d3ad 215b 855f 5a29 148c df45 7104 d415 313a 6c48 da08 23b9 99b8 0a18 8a59 c43d c515 3ea4 207d 4f72 f2c7 86e4 c187 66fd 040d 0884 a32f 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 0868 9077 d7c3 621f 0b0e 80d3 93db 523d 340b 2ed8 372b 89eb 87b8 dc71 2a8b b8e1 082f ef39 5bf8 082b 2212 4437 c2ec f4d5
2025-12-06 00:49:24.098  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 151, "uid": "A111-bbc1234", "time": 1764953392, "sdp": "v=0\r\no=- 1495799811084970 1495799811084970 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\na=msid-semantic: iot\r\na=group:BUNDLE 0 1 2\r\nm=audio 9 UDP\/TLS\/RTP\/SAVP 8\r\na=rtpmap:8 PCMA\/8000\r\na=ssrc:12345679 cname:webrtc-pcma\r\na=sendrecv\r\na=mid:0\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 BF:57:97:DB:5A:34:74:A9:AB:70:ED:DC:45:74:4A:EC:B5:44:5B:3D:3E:6F:7C:94:FD:5A:87:0A:FC:5B:FF:D7\r\na=setup:passive\r\na=ice-ufrag:n4kj\r\na=ice-pwd:n4kjn9W4QkiD3R0KT1IwM25c\r\na=candidate:0 1 UDP 2126930687 192.168.31.57 50786 typ host\r\na=candidate:2 1 UDP 1690723071 123.144.114.73 50786 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 16086527 8.129.3.8 62837 typ relay raddr 0.0.0.0 rport 0\r\nm=video 9 UDP\/TLS\/RTP\/SAVPF 96 102\r\na=rtcp-fb:96 nack pli\r\na=rtcp-fb:102 nack pli\r\na=rtpmap:96 H264\/90000\r\na=rtpmap:102 H264\/90000\r\na=fmtp:96 profile-level-id=42e01f;packetization-mode=1;level-asymmetry-allowed=1\r\na=fmtp:102 profile-level-id=64001f;packetization-mode=1;level-asymmetry-allowed=1\r\na=ssrc:12345678 cname:webrtc-h264\r\na=sendonly\r\na=mid:1\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 BF:57:97:DB:5A:34:74:A9:AB:70:ED:DC:45:74:4A:EC:B5:44:5B:3D:3E:6F:7C:94:FD:5A:87:0A:FC:5B:FF:D7\r\na=setup:passive\r\na=ice-ufrag:n4kj\r\na=ice-pwd:n4kjn9W4QkiD3R0KT1IwM25c\r\na=candidate:0 1 UDP 2126930687 192.168.31.57 50786 typ host\r\na=candidate:2 1 UDP 1690723071 123.144.114.73 50786 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 16086527 8.129.3.8 62837 typ relay raddr 0.0.0.0 rport 0\r\nm=application 50712 UDP\/DTLS\/SCTP webrtc-datachannel\r\na=mid:2\r\na=sctp-port:5000\r\nc=IN IP4 0.0.0.0\r\na=max-message-size:262144\r\na=fingerprint:sha-256 BF:57:97:DB:5A:34:74:A9:AB:70:ED:DC:45:74:4A:EC:B5:44:5B:3D:3E:6F:7C:94:FD:5A:87:0A:FC:5B:FF:D7\r\na=setup:passive\r\na=ice-ufrag:n4kj\r\na=ice-pwd:n4kjn9W4QkiD3R0KT1IwM25c\r\na=candidate:0 1 UDP 2126930687 192.168.31.57 50786 typ host\r\na=candidate:2 1 UDP 1690723071 123.144.114.73 50786 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 16086527 8.129.3.8 62837 typ relay raddr 0.0.0.0 rport 0\r\n", "sid": "1764953362535", "status": 1 }
2025-12-06 00:49:24.147  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 151
2025-12-06 00:49:24.148  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Offer - SID: 1764953362535, Status: 1
2025-12-06 00:49:24.148  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 已缓存 WebRTC Offer, SID: 1764953362535
2025-12-06 00:49:24.680  INFO 38168 --- [http-nio-8080-exec-7] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Answer 到设备 A111-bbc1234 - SID: 1764953362535
2025-12-06 00:49:24.680  INFO 38168 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"code":24,"time":1764953364,"sdp":"v=0\r\no=- 2335354281923346226 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1 2\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVP 8\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:1LXx\r\na=ice-pwd:/emMHyzZnRJqxXvnbzdHnsPc\r\na=ice-options:trickle\r\na=fingerprint:sha-256 46:F5:C1:B0:C3:0B:83:F9:A1:CA:A1:6C:A0:4C:7A:FE:9C:DC:4D:7D:A5:53:3D:0B:1C:58:2C:88:F1:C6:35:68\r\na=setup:active\r\na=mid:0\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:8 PCMA/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 96\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:1LXx\r\na=ice-pwd:/emMHyzZnRJqxXvnbzdHnsPc\r\na=ice-options:trickle\r\na=fingerprint:sha-256 46:F5:C1:B0:C3:0B:83:F9:A1:CA:A1:6C:A0:4C:7A:FE:9C:DC:4D:7D:A5:53:3D:0B:1C:58:2C:88:F1:C6:35:68\r\na=setup:active\r\na=mid:1\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:96 H264/90000\r\na=rtcp-fb:96 nack pli\r\na=fmtp:96 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:1LXx\r\na=ice-pwd:/emMHyzZnRJqxXvnbzdHnsPc\r\na=ice-options:trickle\r\na=fingerprint:sha-256 46:F5:C1:B0:C3:0B:83:F9:A1:CA:A1:6C:A0:4C:7A:FE:9C:DC:4D:7D:A5:53:3D:0B:1C:58:2C:88:F1:C6:35:68\r\na=setup:active\r\na=mid:2\r\na=sctp-port:5000\r\na=max-message-size:262144\r\n","sid":"1764953362535"}
2025-12-06 00:49:24.727  INFO 38168 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 1376 bytes
2025-12-06 00:49:24.733  INFO 38168 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): c874 0ee4 6ab1 63a9 d285 ba78 7fe3 17f0 4094 8183 c879 f177 83cc 2e59 60be 832f d7ad 08aa d530 b983 02b1 3616 c6a8 3915 44e8 1efb f5eb 8ac2 8341 2769 90d1 99b9 1521 05ef e6c2 b984 e7e2 510a c6df 86ac 76d7 00e4 96d3 5fbe ca50 a0dc 7274 c1ac 900e 99f4 9317 9466 9444 f0d4 84fc 7fcc 94e7 d13e a54e 7339 bb6a 1f26 b7c7 4a6d b0ed 5391 9d91 2a0e ba93 49a6 8932 97c5 44eb c602 bb59 4532 f48a 53ca e748 691b a4fc 9cd9 9513 bcfb 9acd e23a 459b 427f b089 9918 7cd6 9917 1512 d8d6 d75e a0be 4a98 20e9 2025 2b24 6050 0962 6c30 b2a3 ab44 0a96 5177 51b4 67f4 56e1 1c9b 3f33 2f7f c531 0f04 7629 2f8d 1a1b 3119 e031 5886 63a1 2d56 ea39 e031 6c7d 36ca 0430 f2de 88f7 12f3 a558 04b0 e31c 9275 4e1e 188b 3dd8 1178 4a9d 8382 b2b3 3f3c f98c 9057 668b 435c c458 632d e52e 641d 0a40 f70a 57b2 fb2a b2fe b4b6 c89f 63c2 73fc f34f c86d 37a0 11e8 74bb 8139 159e 60fa 67b8 1e49 164c 7cc2 41b3 cee9 1349 a5f3 9df8 8a05 c090 5464 dca5 4cc1 24ab e02f 8584 6aca 974e 30ff 507c 47a4 80c0 49c3 2a4c 7efc b1b9 bfac 533c f07b a9a4 e383 7949 a223 d8ee 50a8 7c92 22b3 143d 3311 1aac 5c9e d0f6 1c00 d094 c49e 69b8 4157 c343 6775 49c7 4877 3dfb c726 a8b0 2d16 b572 d869 f305 2f68 bfb6 3a28 0660 3f33 c5d6 1402 489b 9d74 1a49 78bf a031 cae4 1375 4199 270f 3aa2 4ac1 ebcf 82fe 557b 1ef8 b769 ff1e cbb7 311c f082 401d 9af3 5257 7d83 228e 8660 968a 0eb7 179c eae8 3f59 8d97 4c94 cac0 7f15 1e7f 6e88 00c2 3b45 2567 45b0 04cf 4d4d 10e9 abfa 366e 0549 122a ee2d fbe9 454a 8ad3 ce2c a962 8913 c552 71e4 4626 dfca 609c 34ab 5b32 cb96 bbdd b1e3 5c02 f471 6849 a129 8d29 7657 03c2 e223 d68f 5804 cde4 e0e6 a31d eac3 a7ae 54bf cb8c 808a 4333 6a99 36f8 add2 7fd8 eaf7 c2fc 6ba0 5413 1efe 8a01 17e9 b5e3 2450 3351 a6ef e47f 1876 1664 e904 f54f a4f7 30d5 05b9 2d38 b456 6329 6a85 dd23 6e32 7661 26c0 e980 1d8a 2f14 3179 d8a2 9d80 a59d 3a39 6e80 327d 2aab 896f 1027 fa3a c460 7917 2083 5186 fc87 4868 1678 5824 32d4 5168 bbe5 3c4d 0d5d e04d 90d4 fef3 057c 027a 1dee 5917 d32a 94dd 7934 54d4 31c5 2915 042c bcf9 f91e be3a 8709 e549 dfda 8b55 1ed4 6c23 da3c 8694 ba36 8bf5 1f7b f92b 1331 d9cf f619 c9f1 64fc d7e8 d5e9 a1df 1a4c ab83 d05b 16a2 c00a 05f6 c879 592e f269 cf90 59e0 5e25 4c0b 64ca bb9b 5a04 244c 6091 bddd b8cb 1d4b 4485 5643 0ebd 8c96 e161 1a3c f95e c613 7cab 4e00 2839 72ec f2ab 8aae a613 0922 73a0 18a9 0c83 a7f3 6143 814b 3bd3 d6e8 23eb 5a00 2ebc 7c41 a7e9 3abf 4e4d fde1 e41f d486 098e 1b72 13fc 5836 af21 1286 3daf 0dfc ded5 49c0 5d8b b00b 8676 fa86 8c7b 6ebd 371b 7f8b 568c 6b52 8e2d 8167 3d0f 0445 8167 9b99 6a6d 27e4 4067 1d59 3217 83fa b4c4 38a1 4d44 4a94 54e7 2c03 8800 1b8b 41f6 92b6 87b7 f415 7ce7 fc24 a2c9 d599 58bd 6236 8283 af8c 7d4c 6bca 6434 299c 82b8 616a d823 ac4d 525c 9047 5e69 5051 337e 26d8 30eb c76d 3968 26de 46ad 7472 1112 f8be 2a60 5449 c5ae 4ec7 965b 1a20 8fc7 71fd b680 a0be afbc 130d e32a 48bc fd4c f117 8a0f 899d 8ef4 7ec8 44a7 163d abaf d1f4 e43c c888 e34c 71cc fc0e bd83 5dcb 80a5 ca6b d08b 0598 7387 6219 676d 53ba e949 2c72 b886 888c 9aa0 a351 cdc9 64ec 2c4b b930 f55a 5ba9 08a1 26b9 5c93 4cc7 b6df 66b6 8f5d bcb6 da02 c0d3 1c9b 3ed9 abf0 a70e 56d5 27e7 6d60 d630 3561 6144 deb6 7a03 cd24 7227 7228 7b7c b0f1 b44e 8dce 6c3f cff9 e8ff 0013 27f9 bb93 f96d a50e 25cc d5a7 e13f ec3f 7e12 0cb0 3349 9004 3107 2ab0 d255 ddeb 3643 2ca0 afcc cff3 a827 6543 8bf0 a815 04c4 2712 73b9 1bae 0bc5 a70f 95fb 1447 ab79 e3ed 991d 6e97 e58c 0e81 46d6 a561 ddcc a276 866c 0034 869e 2aa7 ef69 2fcf 36f4 ae31 bd81 1f52 7287 76f3 3345 9d4c 9c17 d373 8eef e7c1 90f1 0725
2025-12-06 00:49:24.733  INFO 38168 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 已发送WebRTC Answer到设备 A111-bbc1234
2025-12-06 00:49:24.806  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:49:24.806  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 51d5 77cc 5dea 7d42 74d0 42ed 95df 9dd4 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 93ec 909d 91d7 d601 2ffe 0b49 4a3e 6dec 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:49:24.807  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 152, "uid": "A111-bbc1234", "time": 1764953393, "status": 1 }
2025-12-06 00:49:24.807  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 152
2025-12-06 00:49:24.807  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Answer - SID: null, Status: 1
2025-12-06 00:49:24.827  INFO 38168 --- [http-nio-8080-exec-9] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764953362535
2025-12-06 00:49:24.827  INFO 38168 --- [http-nio-8080-exec-9] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:3245843209 1 udp 33562623 8.129.3.8 60464 typ relay raddr 0.0.0.0 rport 0 generation 0 ufrag 1LXx network-cost 999","code":25,"time":1764953364,"sid":"1764953362535"}
2025-12-06 00:49:24.877  INFO 38168 --- [http-nio-8080-exec-9] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 192 bytes
2025-12-06 00:49:24.878  INFO 38168 --- [http-nio-8080-exec-9] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 8d37 9041 2f55 58fa 7d6a 0f29 138f ce0d 6690 9d1a fffe 483f ef4b 7cec 7d4c 6dc9 f1e5 363c c2ee 2011 22df 08dc a653 4d4f a8c9 bc53 05d5 30dc 189a bed3 bf12 d843 b8c6 6cce e29e 1205 889f 3467 e753 c435 ac14 6459 8145 1f6a 7001 6e29 a9c2 dcf3 c84f 45e6 4391 ba41 2a73 2a12 ac4f 56c5 a70a 0180 43da 87df a15b d596 f3f7 b38a 95fc 5cf5 bbf8 346e a2c2 10cb 69d7 d5a0 4097 b124 8cc1 2b93 5194 9715 775d 3302 2705 6d9d eca2 3ac0 f4d9 83ea 6a67 7b12
2025-12-06 00:49:24.878  INFO 38168 --- [http-nio-8080-exec-9] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:49:24.907  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:49:24.908  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 93ec 909d 91d7 d601 2ffe 0b49 4a3e 6dec 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:49:24.909  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764953393, "status": 1 }
2025-12-06 00:49:24.909  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:49:24.909  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:49:39.898  INFO 38168 --- [http-nio-8080-exec-4] c.p.c.c.internal.DataChannelController   : 发送 DataChannel 指令到设备 A111-bbc1234 - 指令: left
2025-12-06 00:49:39.900  INFO 38168 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"code":99,"time":1764953379,"command":"left"}
2025-12-06 00:49:39.951  INFO 38168 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 48 bytes
2025-12-06 00:49:39.951  INFO 38168 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): bba8 8910 e689 0a4d 2696 252d cfa4 8f80 84aa 51cf 115c 54dc 9b5c ad14 86a9 2bec c6d6 734b 27aa c938 c845 ab5f 77fe 5d3e
2025-12-06 00:52:45.145  INFO 38168 --- [http-nio-8080-exec-2] c.p.c.c.internal.MqttControlController   : 请求设备 A111-bbc1234 的 WebRTC Offer - SID: 1764953565144
2025-12-06 00:52:45.145  INFO 38168 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"rtc":"8.129.3.8:3478,test_rtc,test123456","code":23,"time":1764953565,"sid":"1764953565144"}
2025-12-06 00:52:45.198  INFO 38168 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 96 bytes
2025-12-06 00:52:45.198  INFO 38168 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): ed2c fe67 6b71 d554 391a 5b42 c5c5 f0a8 c74b fcf4 672f c51e 0c14 9ab4 04dc c1ed 1a9c 66e2 28ac 207c 9cd4 a5cf c7fe e9a1 5f05 1390 b9de e929 d59e 7457 4b44 7859 62f7 256c 182e 5868 4709 5964 d753 69b1 ceb5 f5ee 4b8a ff12 b26c dc2c 563e 63f9
2025-12-06 00:52:45.198  INFO 38168 --- [http-nio-8080-exec-2] c.p.camera.service.MqttMessageService    : 已请求设备 A111-bbc1234 的WebRTC Offer
2025-12-06 00:52:46.208  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 2224 bytes
2025-12-06 00:52:46.213  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 6568 6067 c371 2a4e 1193 64bd 6127 9486 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 bed0 303e 00f9 1c12 dfb8 862d d9fa fa89 244a 55cf 8f5a feca cab1 f994 fa03 d057 1e5a ee62 beb5 8b90 8c80 490e 347b aa14 aba7 a9dc 3aac b449 217d 4cdc 59a4 24ef 2450 2d63 7cdf 2e6f 098d 3c7a 25da 07b2 6232 ae5e a5af 41c4 d8c5 5b9f 511b d53c b0ed 5391 9d91 2a0e ba93 49a6 8932 97c5 8536 1ded c856 44db 113f 86a4 a686 752f 94e7 d13e a54e 7339 bb6a 1f26 b7c7 4a6d 2bf8 ee20 2e24 c140 3d93 fc03 92d4 d499 4881 6d93 1730 3766 01e1 26ce 91a9 2257 c694 e7ff 257c 60f7 11c8 aca8 d143 ac31 0297 9b0b 4ad1 92a3 a137 397a ff20 1a46 8bf3 27fc 21ed b8e9 af99 686f 7a3b 325a 6bd2 f63c 80c7 95c1 0877 d713 2335 bbc4 4217 259a 171d b786 ba7d 83c0 5d47 2dda 254d bac9 03e7 1a7b bd6e 4a53 b6e3 c373 8334 0465 3736 9c4b c113 f96f cbbf 4c0c 40c2 b996 9ecc 66ed 35a4 fdc1 85e0 4e7d 0598 7387 6219 676d 53ba e949 2c72 b886 ef48 01ff 9ace b085 ed0a d3f1 4d38 7f1e a52c 38f7 2ad2 01e1 ffa7 8f05 5e0c e738 8a3d 435e bdbc be0a a655 2e6a d09b 5aef 9e75 f4a4 e9ac db1d b5e6 8cc6 b392 55cd 1b19 5830 cebb 0d4e dec0 705e 6970 25fc aeec 8160 7f72 d90a db98 c54d 114f 86fc 08a2 0a37 3917 c444 60f9 ed38 f502 781f 33f3 ef8d 9133 290c 399e f20a d744 6be5 fef7 7be8 2d90 ba85 9239 6bab 246e 0cb7 388f 52e0 da14 b273 c0f4 e530 193c fa66 3571 6159 157e 95c4 63c8 6953 c0f6 37e4 6478 5b96 0fda f721 3d28 fd1f a662 2687 4b09 e564 5e1e e7c7 f0ab f489 c1ed 6e17 396b 3274 d1f6 5bac 7780 f142 d1e6 d15f efb4 db29 db33 a111 4ce7 52d7 cf9a 49db 81ce 3854 4dda 4ef6 0426 1abb 1c70 49e5 5d25 ca7c 3e01 118d dba4 b145 06c4 af62 fb03 f3d5 e1b6 c89a 8e84 93a1 4cff ecaf c496 f412 7815 93ad 112c a84b a7a6 4f7c 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 b725 b621 aa3a 9772 477a 2e47 a51a 0b28 7bbd 1f36 787b 7faf 306e 92d6 97ad 536c bc96 78db 2ebc 8f21 8529 2fd2 9f05 ae32 90c5 0d86 6789 ba45 0bcb 5c7c 9653 f2d6 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 fe41 3a55 c7b2 06c7 53f3 ccf8 1777 a4ce 3b61 7cc8 f5b0 779e c619 dd77 4db6 b63e 248c ea57 d198 956f c18f 1558 f181 d9e1 2b4e b29a 0f71 34a0 1948 b9b1 d7a8 5da8 cd0d 98f2 2e96 8395 639d ba93 1980 45de b126 c189 2430 2e78 6987 988d 12bd d57b ed13 efef 0f6f de2e b86e 1fed f765 38a2 650d 3746 0368 7270 5c76 7710 c3fb 03eb ce00 7a49 9cc6 e844 5d89 39c6 8d9c e509 0602 136b a4ea 24aa 6937 07f4 2988 a81c 72a7 9810 8329 042d 281e 537c e2ce f675 a760 871d 55a1 1ca4 3900 9de6 c0a8 0b42 557b b7ed f11a 6706 5921 d360 26ed 52af 1e68 49ec c7ff 15a0 a55f cbf1 e966 f4cb e5b7 cf58 d592 c93a 03c7 1b26 7431 405f bfa0 aa38 adc3 3cfe dd82 7a0b b4a8 1075 56a1 3679 575a cf2c 0fd2 a3d8 1f69 b480 08ae 1b1e da7d 4f69 16e1 b349 bc15 b168 5461 b17b 29e1 87fd 3374 2628 3cb5 ac80 4e4d fde1 e41f d486 098e 1b72 13fc 5836 4760 b00f 6b25 d1f2 cd1d f8f3 a3f3 5960 9d16 5f50 1161 a1a1 b882 5c18 7d81 19e8 c405 2d75 d89b d648 c94e 33d1 b96e 3eaf 8da9 9d90 8004 f2b5 5b9c b95c 6199 ead9 5b71 d591 93ff 8397 e6fa 3190 e527 8fb8 a94b a995 6435 3b4b a17e 352b b7e7 f912 a669 70b3 7dee 7c77 1489 7fff 80bc 51c6 4c95 d0ef 0272 35b6 c698 f586 d9d4 e2a6 ca92 8b5b 0702 d6d0 d5ce ffa6 25c7 e1ec 5983 66fd 4c71 e40e a437 fea5 91ec 4f15 fab1 d47a 3b0e e9aa d461 7a84 c7df ea3e 51c5 3b0d 0ce3 1cde 445d 5e29 2f35 0a8e 3da8 0187 bdec a1f3 55fd 3efb ac9c 88cf f70c 8adc e6ce 9ccb 5c2a ea12 443a e258 8367 94ff 16e5 ed9f d067 8d78 9883 403c 6c13 7ed8 0eeb 2ea2 352a b8a7 fe4c c9ed 9c25 f84f 35ea 9e6b eb26 7919 98cb deea d438 6dff 9aed 6fbc 28bd ab33 805a 36df 111a d22f 6530 01a8 48b0 1e00 2ad3 f960 84d8 d5ef b273 bc58 e5a5 00f7 c48f e590 66b7 d723 fc42 686d 719e 0762 5cd3 7ee3 4fe1 2853 461b 99a1 eea2 f6fb 4eea f6c6 7a7f 1592 745c 969e 766e d933 ecb8 015e 4e43 de0a bf74 cc55 f3aa d0b4 1f31 81d4 2043 87c7 940f 8f81 357c e544 4be2 19ad aaff c03a 8a2b 0de3 b7ef 5a31 b5b5 af8e 12db d971 f817 0b0b f71b 98c5 5ee3 fb30 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 ebd1 7b67 28d5 8949 7464 9e81 26e9 0b60 a6ce 01d8 f53a 8dc6 1e46 0802 1d6f 2ccb 37d3 802e 1c56 fa2a 42fc 70be 73ce bbb4 d3e0 7d49 7c2c 54a9 f16f baf7 01f7 9333 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 6d71 ce1a 504b 1ec3 ddde da36 57ae 55c7 5e42 675a c7d5 b14e fa84 fb2a 7fe8 10d6 92f8 5b94 685e c5bb 6081 4194 1c62 fd8f 0ac6 329f bd1a 3e3f dcd2 ae28 20e7 4a41 c9b7 7e6e e9d6 8660 57de 9256 8e8e 229b 6e24 2cda 5d89 c9fc ed82 5925 d9a1 c5f4 158e 5f01 88e2 cf28 5cd4 d7d4 9aae 693b 0e5c fbc6 2eef 92e3 2252 ab55 c622 1722 76fa 4ba1 ccc2 0ab4 f9fe ddea d1b6 d14f f34f c86d 37a0 11e8 74bb 8139 159e 60fa f16d f65e a3d9 57b1 42f1 9d93 d6b7 c337 b40b 1b9a 3ffc 17d7 a4c1 772c d04b d91a 549b 7183 ed34 0c83 e2fc 2314 f0da 4603 934e 1288 0e95 30dc 0637 c114 f5f2 e99b 8fdb 94ed df4f e49d 940e f800 2481 2097 f11a f83e 621b 5b7d 1257 4177 3cfd ceab 5586 ba39 ae56 ffa2 e55c bc09 68c8 660b 2cde 09d0 66e9 07d0 ac2a 48c7 bb88 56c3 dc8c 8500 3cf8 67dd ccdd 6a36 a4f7 fbf0 bfd1 3630 4912 22fc 8927 c76d b11a 8e63 1b12 a857 1744 c1da ffa3 5bcd 69ab 6558 f8e3 a33a 1bd1 e0bd 310a 9440 9c95 fb20 962a 92a8 2125 4428 23d7 78ce 6947 61e6 a4e9 2c45 2dd6 4ec2 d7f5 ef69 c5e0 859f f493 2fb6 e45e 08dc 3db8 8485 d295 1757 6629 9177 c655 2029 b6bb a844 0c44 84ff 93f7 e362 c46e 6be8 00d3 2106 998f 2bd2 0e83 8058 81a0 719d 3926 f715 479f 6249 17c2 7122 8156 c579 d63c 460c 56f2 c5ca 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 80bb 6d7c 8e8b 7370 9993 d3ad 215b 855f 7be6 aba2 c44a 2870 8806 48d2 40ab 32cf a779 9568 60f3 7586 b0e2 b7e1 efc2 65b8 624b 7d6a e6e1 cc05 9a7b 86a5 634f 4247 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 0868 9077 d7c3 621f 0b0e 80d3 93db 523d 7bcb abf0 6c87 b1ed 72ad 8d08 a457 688c 082f ef39 5bf8 082b 2212 4437 c2ec f4d5
2025-12-06 00:52:46.214  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 151, "uid": "A111-bbc1234", "time": 1764953594, "sdp": "v=0\r\no=- 1495799811084970 1495799811084970 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\na=msid-semantic: iot\r\na=group:BUNDLE 0 1 2\r\nm=audio 9 UDP\/TLS\/RTP\/SAVP 8\r\na=rtpmap:8 PCMA\/8000\r\na=ssrc:12345679 cname:webrtc-pcma\r\na=sendrecv\r\na=mid:0\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 13:55:6F:C2:EF:2C:D4:42:EA:69:32:1E:FB:99:38:FD:8D:3F:57:49:82:E8:F8:03:93:D6:C0:36:DE:07:CD:A4\r\na=setup:passive\r\na=ice-ufrag:mSMy\r\na=ice-pwd:mSMy1lHnm4UFZueofVcoakcL\r\na=candidate:0 1 UDP 2124918783 192.168.31.57 42927 typ host\r\na=candidate:2 1 UDP 1688711167 123.144.114.73 42927 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 13862143 8.129.3.8 54148 typ relay raddr 0.0.0.0 rport 0\r\nm=video 9 UDP\/TLS\/RTP\/SAVPF 96 102\r\na=rtcp-fb:96 nack pli\r\na=rtcp-fb:102 nack pli\r\na=rtpmap:96 H264\/90000\r\na=rtpmap:102 H264\/90000\r\na=fmtp:96 profile-level-id=42e01f;packetization-mode=1;level-asymmetry-allowed=1\r\na=fmtp:102 profile-level-id=64001f;packetization-mode=1;level-asymmetry-allowed=1\r\na=ssrc:12345678 cname:webrtc-h264\r\na=sendonly\r\na=mid:1\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 13:55:6F:C2:EF:2C:D4:42:EA:69:32:1E:FB:99:38:FD:8D:3F:57:49:82:E8:F8:03:93:D6:C0:36:DE:07:CD:A4\r\na=setup:passive\r\na=ice-ufrag:mSMy\r\na=ice-pwd:mSMy1lHnm4UFZueofVcoakcL\r\na=candidate:0 1 UDP 2124918783 192.168.31.57 42927 typ host\r\na=candidate:2 1 UDP 1688711167 123.144.114.73 42927 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 13862143 8.129.3.8 54148 typ relay raddr 0.0.0.0 rport 0\r\nm=application 50712 UDP\/DTLS\/SCTP webrtc-datachannel\r\na=mid:2\r\na=sctp-port:5000\r\nc=IN IP4 0.0.0.0\r\na=max-message-size:262144\r\na=fingerprint:sha-256 13:55:6F:C2:EF:2C:D4:42:EA:69:32:1E:FB:99:38:FD:8D:3F:57:49:82:E8:F8:03:93:D6:C0:36:DE:07:CD:A4\r\na=setup:passive\r\na=ice-ufrag:mSMy\r\na=ice-pwd:mSMy1lHnm4UFZueofVcoakcL\r\na=candidate:0 1 UDP 2124918783 192.168.31.57 42927 typ host\r\na=candidate:2 1 UDP 1688711167 123.144.114.73 42927 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 13862143 8.129.3.8 54148 typ relay raddr 0.0.0.0 rport 0\r\n", "sid": "1764953565144", "status": 1 }
2025-12-06 00:52:46.215  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 151
2025-12-06 00:52:46.215  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Offer - SID: 1764953565144, Status: 1
2025-12-06 00:52:46.215  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 已缓存 WebRTC Offer, SID: 1764953565144
2025-12-06 00:52:47.270  INFO 38168 --- [http-nio-8080-exec-5] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Answer 到设备 A111-bbc1234 - SID: 1764953565144
2025-12-06 00:52:47.270  INFO 38168 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"code":24,"time":1764953567,"sdp":"v=0\r\no=- 648475401151704409 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1 2\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVP 8\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Tbew\r\na=ice-pwd:0Y0ToW5cMRRItEX8hdvZb23P\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7A:28:91:B0:94:78:F4:80:28:F1:3B:19:53:20:B1:6D:9A:33:AE:79:E6:B8:47:A4:1F:05:9C:DB:30:96:9F:EF\r\na=setup:active\r\na=mid:0\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:8 PCMA/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 96\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:Tbew\r\na=ice-pwd:0Y0ToW5cMRRItEX8hdvZb23P\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7A:28:91:B0:94:78:F4:80:28:F1:3B:19:53:20:B1:6D:9A:33:AE:79:E6:B8:47:A4:1F:05:9C:DB:30:96:9F:EF\r\na=setup:active\r\na=mid:1\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:96 H264/90000\r\na=rtcp-fb:96 nack pli\r\na=fmtp:96 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:Tbew\r\na=ice-pwd:0Y0ToW5cMRRItEX8hdvZb23P\r\na=ice-options:trickle\r\na=fingerprint:sha-256 7A:28:91:B0:94:78:F4:80:28:F1:3B:19:53:20:B1:6D:9A:33:AE:79:E6:B8:47:A4:1F:05:9C:DB:30:96:9F:EF\r\na=setup:active\r\na=mid:2\r\na=sctp-port:5000\r\na=max-message-size:262144\r\n","sid":"1764953565144"}
2025-12-06 00:52:47.419  INFO 38168 --- [http-nio-8080-exec-7] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764953565144
2025-12-06 00:52:47.419  INFO 38168 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:1118829907 1 udp 33562623 8.129.3.8 59665 typ relay raddr 0.0.0.0 rport 0 generation 0 ufrag Tbew network-cost 999","code":25,"time":1764953567,"sid":"1764953565144"}
2025-12-06 00:52:47.632  INFO 38168 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 1376 bytes
2025-12-06 00:52:47.632  INFO 38168 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 192 bytes
2025-12-06 00:52:47.633  INFO 38168 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 e3e5 06e8 dab2 bd73 dc99 5d10 b622 0611 b11c 8c27 aca2 20fb 55f9 6e8a 1304 9a51 ac7c b209 5f15 6f17 c35d f3b3 1408 8e16 8ae0 341d 91b8 d96a b2f2 daaa c0fc 643f b8c6 6cce e29e 1205 889f 3467 e753 c435 ac14 6459 8145 1f6a 7001 6e29 a9c2 dcf3 1d6d ba8f 97d5 f94f a1e8 61ba f469 7de1 a70a 0180 43da 87df a15b d596 f3f7 b38a 95fc 5cf5 bbf8 346e a2c2 10cb 69d7 d5a0 e1ff af63 e3ea 0af2 6660 dfc5 27f5 ed34 ceb5 f5ee 4b8a ff12 b26c dc2c 563e 63f9
2025-12-06 00:52:47.633  INFO 38168 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:52:47.636  INFO 38168 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): c874 0ee4 6ab1 63a9 d285 ba78 7fe3 17f0 1b63 a66d 8472 5680 ad89 6555 dad4 977a d07e ec4c 119c bdab fe63 90dd f8b6 e6ad 2269 1551 b9f6 da28 0665 6cf3 4578 6ea8 c0b5 2ae1 2dae 2a4e c762 cadf 6449 a0ef 6066 d678 a874 7753 a4ea 372d 383f 7fba fde2 2440 bfac 8f2e 8f85 2af0 9432 11bd fec1 e42b 54c6 aafb c26d 88ba 8ef4 6e6e e017 c7e6 4470 7821 e227 6350 04fe d403 048a 567e 5cef dac9 58b7 707b d8f5 e10d a144 2c9a 518c faf0 2a75 cc67 edf9 9801 bf31 737f 49f7 ca39 7d0c 1978 b94e 8f4a 7ddc ce69 e018 0be8 bada dd96 9966 4f40 4fa5 18a3 d8f2 09fc 2c72 e86b 7063 8a6f f519 c66b 67ea c6f7 0d30 412d f904 ade4 3e67 7051 63b4 46c4 91f2 e366 2c01 310d ca38 5cae e06c 8a2c b9c1 a226 46b6 5e41 de99 c2ee 273c 87cf a315 0541 aceb f949 2a5f ea21 b7f2 1b53 3c44 c90b 46c8 4870 38b8 de39 8dfa bc77 6924 791c 4378 3eb2 98bf 549c fc31 5ef2 2e1c 3ba1 5275 cf63 cabc 5caa 4987 17e4 6cf9 4df5 2b93 10a0 d709 c6e8 2c58 ba99 f8ce 61e1 aec0 de14 b8fd 1afd 51d7 5654 a66e 48cd 1cc9 9f08 3b9d edf3 2c46 5b9d 1962 d6bd 8a4f 2429 b9ce df6f 87bd 7499 b453 b767 e846 2417 1698 b133 c31e f303 0221 6c67 1726 149f d377 c1a4 68c6 daf3 6dc9 b769 9526 2abb 9980 900c a8cd 8ee1 a0f0 9b52 8932 2cfc 5d87 cab9 ea74 9a82 c07d b60e a05e 9914 bf3c 336e da9e 6bc4 0d9d cc47 93cd ebbc 7f04 7bcb 4d9c 1bbb 5af2 f546 2b5d e27f d6de 6389 6f31 386e dbe8 0a5b c0c7 0818 b206 ff20 188e 85e6 2ad8 98d7 c072 3f1d 6775 f29b 965c 6a4b aef8 f32f b6e9 26d8 718b e505 5f9c baba 24f1 8c16 9ec7 d655 cd62 6424 ce03 8c8b eb8a 5e6a 882f 8e52 b7fc 6552 43fc 8511 c0d1 3ccd 916e 4891 f707 100c bd43 c974 ab29 34ef 9b4c 48f7 dd06 0dc1 cf7c bd24 dcd4 761e a6d3 bf6c 4f03 d99a 56ca 275c 5f62 e4bc f212 3aaf bf69 1062 f8aa 5e22 58f6 1c40 4614 c8d4 424a 6903 518b 20ab c841 ad69 b43a c555 f869 e857 0842 c948 ae16 cd95 f050 4b8e c3a3 d0b9 83a7 e18e 841c 8a0f f9ec 6b61 100f a2b4 2d22 5bea 9aa9 a56d ff28 6a65 31df 4294 d71a a16b 2bd3 a193 6231 a0ec 7034 245e 3549 ccf0 b59a de03 4440 d468 9243 ca89 960a a2bf 1bc3 36ee e683 e597 e5a7 1059 1d00 f99c 11c1 a3eb f366 9b7d 9fd4 ceed 8c8e 73fc e8e4 b68b bc73 434f f103 d3fb 7658 15b4 ad2f ad32 f62e fba5 d36a 87fa 1eaf 0dc1 c97e ebba 2126 76fd a0a5 70c1 db27 93c7 6e93 b623 d86d bad4 404d b190 7ff0 b419 fba1 6a9d eb32 b56a 3388 dad5 0e33 429f a204 311f 818f f63f bd98 feae 2be9 37c6 04c5 6ca5 ad0f 3233 a8ca 5b5c 3c7c e6cb 93e3 aad1 4ccc 102a d5ee 1529 e2fc 85b7 a53a f6ef 660f 8efb 08d6 3847 0605 5d8c 0a95 47df 8932 006c 216b 7108 1a0b 4fff 1f21 f102 42f9 ea2d f590 1214 9d51 c248 b5af c1e0 482c 63f4 112a de5d 163b f679 c17e fd17 859b c0ce 8640 3689 eb13 2f5d 127c eef7 c074 94a3 99f5 cb87 4d78 f9f9 624f 0d4a add7 d2ad 3109 62f8 7c2e d078 2208 7d62 1b11 c52d 2b0b a66a d383 26b2 4ecf 6b5f 90bf 9d48 ff4d d8c2 cd6d 206f 05ec bace 4806 aa5e 681d b2ff a230 e3e8 4ce1 0908 95f8 4b6f 9f75 0a38 cfe7 3fcf 32d7 648a 876e ae03 586d a427 3741 13bc 4717 4957 47d1 fb7e 5dbb 6bdd 9c2a 6e81 5887 eac3 7c4c 3842 a41f d751 e644 c0cf ce23 cdd5 4d29 6d2a b774 dd85 6908 e940 58fc 0ebe 5cd9 e4fa bee5 c260 dd11 816b 96a7 b8df 4bbc 67a7 61a9 1738 18ea 7567 8ca8 841e fe18 3be6 c537 933b 1c43 4c43 c0fc a8cf 2216 0b22 fbbb 455e 2b24 0be6 2add 4031 84b1 e0b5 d85a bce3 f8f6 e7c8 85cf 8401 45c7 3b65 b691 84d9 2bbe e06b 2ec0 869a c487 4ef6 68f1 faf8 57f3 10df 8b75 5d7d d6e8 c035 675a 48a4 61ff 094a 3479 c6ff 8a15 4284 5a89 bbbd a61c e142 7710 3a8b a053 2b12 ce1b 2dc0 2012 b209 233b a0cf 9970 1f50 de93 803e 11da 1ee6 49eb 880a 2e29 f80c 9752 d437 2182 fac9 7045 6d8f 5067 8295
2025-12-06 00:52:47.637  INFO 38168 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 已发送WebRTC Answer到设备 A111-bbc1234
2025-12-06 00:52:47.764  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:52:47.764  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 51d5 77cc 5dea 7d42 74d0 42ed 95df 9dd4 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 244f 872d ef64 498c ce02 820e d633 f012 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:52:47.765  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 152, "uid": "A111-bbc1234", "time": 1764953596, "status": 1 }
2025-12-06 00:52:47.765  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 152
2025-12-06 00:52:47.766  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Answer - SID: null, Status: 1
2025-12-06 00:52:47.832  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:52:47.833  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 244f 872d ef64 498c ce02 820e d633 f012 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:52:47.833  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764953596, "status": 1 }
2025-12-06 00:52:47.833  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:52:47.833  INFO 38168 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 00:55:43.011  INFO 38168 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 00:55:43.011  INFO 38168 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 00:55:43.011  INFO 38168 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 00:55:43.015  INFO 38168 --- [SpringApplicationShutdownHook] c.p.camera.service.MqttMessageService    : MQTT连接已关闭
2025-12-06 00:55:45.458  INFO 1312 --- [main] com.pura365.camera.Application           : Starting Application using Java 14.0.1 on 张鹏朝 with PID 1312 (D:\workspace\camera-server\target\classes started by q1763 in D:\workspace\camera-server)
2025-12-06 00:55:45.460  INFO 1312 --- [main] com.pura365.camera.Application           : No active profile set, falling back to 1 default profile: "default"
2025-12-06 00:55:46.017  INFO 1312 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-06 00:55:46.026  INFO 1312 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-06 00:55:46.366  INFO 1312 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-06 00:55:46.372  INFO 1312 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-06 00:55:46.373  INFO 1312 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-12-06 00:55:46.486  INFO 1312 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-06 00:55:46.486  INFO 1312 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1000 ms
2025-12-06 00:55:47.492  INFO 1312 --- [main] c.p.camera.service.MqttMessageService    : 已连接到MQTT Broker: tcp://cam.pura365.cn:1883
2025-12-06 00:55:47.537  INFO 1312 --- [main] c.p.camera.service.MqttMessageService    : 已订阅主题: camera/pura365/+/device
2025-12-06 00:55:47.538  INFO 1312 --- [main] c.p.camera.service.MqttMessageService    : MQTT服务初始化成功
2025-12-06 00:55:47.989  INFO 1312 --- [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 00:55:47.989  INFO 1312 --- [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 1 subscriber(s).
2025-12-06 00:55:47.989  INFO 1312 --- [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-12-06 00:55:48.014  INFO 1312 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-12-06 00:55:48.022  INFO 1312 --- [main] com.pura365.camera.Application           : Started Application in 2.796 seconds (JVM running for 3.219)
2025-12-06 00:55:48.061  INFO 1312 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-06 00:55:48.061  INFO 1312 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-06 00:55:48.061  INFO 1312 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-06 00:55:59.578  INFO 1312 --- [http-nio-8080-exec-6] c.p.c.c.internal.MqttControlController   : 请求设备 A111-bbc1234 的 WebRTC Offer - SID: 1764953759573
2025-12-06 00:55:59.580  INFO 1312 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"rtc":"8.129.3.8:3478,test_rtc,test123456","code":23,"time":1764953759,"sid":"1764953759573"}
2025-12-06 00:55:59.635  INFO 1312 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 96 bytes
2025-12-06 00:55:59.636  INFO 1312 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): ed2c fe67 6b71 d554 391a 5b42 c5c5 f0a8 c74b fcf4 672f c51e 0c14 9ab4 04dc c1ed 1a9c 66e2 28ac 207c 9cd4 a5cf c7fe e9a1 5f05 1390 b9de e929 d59e 7457 4b44 7859 1ed8 4ea0 aede 581d 7225 36bb 31bf aa54 4536 00ad 2ed1 3af2 724e 38bf 1cc1 8a1a
2025-12-06 00:55:59.637  INFO 1312 --- [http-nio-8080-exec-6] c.p.camera.service.MqttMessageService    : 已请求设备 A111-bbc1234 的WebRTC Offer
2025-12-06 00:56:00.443  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 2224 bytes
2025-12-06 00:56:00.454  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 6568 6067 c371 2a4e 1193 64bd 6127 9486 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 0fc9 6d84 0ef1 8f91 8557 483f 49f0 023c 244a 55cf 8f5a feca cab1 f994 fa03 d057 1e5a ee62 beb5 8b90 8c80 490e 347b aa14 aba7 a9dc 3aac b449 217d 4cdc 59a4 24ef 2450 2d63 7cdf 2e6f 098d 3c7a 25da 07b2 6232 ae5e a5af 41c4 d8c5 5b9f 511b d53c b0ed 5391 9d91 2a0e ba93 49a6 8932 97c5 8536 1ded c856 44db 113f 86a4 a686 752f 94e7 d13e a54e 7339 bb6a 1f26 b7c7 4a6d 2bf8 ee20 2e24 c140 3d93 fc03 92d4 d499 4881 6d93 1730 3766 01e1 26ce 91a9 2257 c694 e7ff 257c 60f7 11c8 aca8 d143 ac31 0297 9b0b 4ad1 92a3 a137 397a ff20 1a46 8bf3 27fc 21ed b8e9 af99 686f 7a3b 325a 6bd2 f63c 80c7 95c1 0877 d713 2335 bbc4 4217 259a 171d b786 ba7d 83c0 5d47 2dda 254d bac9 03e7 1a7b bd6e 4a53 b6e3 c373 8334 0465 3736 9c4b c113 f96f cbbf 4c0c 40c2 b996 9ecc 66ed 35a4 fdc1 85e0 4e7d 0598 7387 6219 676d 53ba e949 2c72 b886 8919 dd0d 809b 4679 9e41 3229 e3bb 08e8 751e bbdf b4bd 516c 33b8 ee6c a924 75ef 420b 0855 448f f241 3152 018b 27f1 3acd c4ce b74f b346 c256 5777 3e53 e71d 1230 3cbb ddba 077a 3971 6a38 4f06 08c8 3404 0087 9cc9 e33c 2e0e dd0a 5d2f a466 d51b 76f8 f8d1 fc30 3943 d26a 09ec 04ec 2c83 33f3 ef8d 9133 290c 399e f20a d744 6be5 8ea0 7133 209f 0f1e 25df e3ae 5e21 efc4 4a1e 423d 5790 c299 63c1 2800 f9b8 6300 b07d 1467 f325 62df 6ae5 2fbb 60b3 fed5 6478 5b96 0fda f721 3d28 fd1f a662 2687 0134 0b2e eb5f 7332 d53e d142 722d 2416 0fad 309b 9750 8730 040c 5461 26e7 3e26 216a ed1f a4e2 1ace 5743 1079 d113 86aa 81ce 3854 4dda 4ef6 0426 1abb 1c70 49e5 3dcb 592e aa94 a01c 9f4e 2e45 cf9b 9faf fb03 f3d5 e1b6 c89a 8e84 93a1 4cff ecaf 3563 a8ea fab4 466e a5cd 64c3 651b 8ecd 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 b725 b621 aa3a 9772 477a 2e47 a51a 0b28 4fc2 96fa cd1d 284e f9b8 8a2d ae2d 9b43 af37 dc46 5220 33d3 d46c da2e 9dff 1659 1054 9f8c 32f4 a40e a380 525e 3f7d 711f 5eeb 0778 a6cb c8e5 675a fbf2 5ea9 6983 fe41 3a55 c7b2 06c7 53f3 ccf8 1777 a4ce 3b61 7cc8 f5b0 779e c619 dd77 4db6 b63e 248c ea57 d198 956f c18f 1558 f181 d9e1 2b4e b29a 0f71 34a0 1948 b9b1 d7a8 5da8 cd0d 98f2 2e96 8395 639d ba93 1980 45de b126 c189 2430 2e78 6987 988d 12bd d57b ed13 efef 0f6f de2e b86e 1fed f765 38a2 650d 3746 0368 7270 5c76 7710 c3fb 03eb ce00 7a49 9cc6 e844 5d89 39c6 8d9c e509 0602 136b a4ea 24aa 6937 07f4 2988 a81c 72a7 9810 8329 042d 281e 537c e2ce f675 a760 871d 55a1 1ca4 3900 9de6 c0a8 0b42 557b b7ed f11a 6706 5921 d360 26ed 52af 1e68 49ec c7ff 15a0 a55f cbf1 e966 f4cb e5b7 cf58 d592 c93a 03c7 1b26 7431 405f bfa0 aa38 adc3 3cfe dd82 7a0b b4a8 1075 56a1 3679 575a cf2c 0fd2 a3d8 1f69 b480 08ae 1b1e da7d 4f69 16e1 b349 bc15 b168 5461 b17b 29e1 87fd 3374 2628 3cb5 ac80 4e4d fde1 e41f d486 098e 1b72 13fc 5836 4760 b00f 6b25 d1f2 cd1d f8f3 a3f3 5960 9d16 5f50 1161 a1a1 b882 5c18 7d81 19e8 c405 2d75 d89b d648 c94e 33d1 b96e 3eaf 8da9 9d90 8004 f2b5 5b9c b95c 6199 ead9 5b71 d591 93ff 8397 e6fa 3190 e527 8fb8 a94b a995 6435 3b4b a17e 352b b7e7 f912 a669 70b3 7dee 7c77 1489 7fff 80bc 51c6 7677 2d13 aacc 70a5 fc5c 89b5 864a 202d 0468 97b2 58ac 1e67 d49c 441d 7891 01a7 7c2b b4d0 1da7 78dc b8a5 8369 011b cd4c df32 cf75 0e30 238c 6a66 c6a8 438e 8c6f 555c d5e4 e70b f9c9 e800 ba9d 8a43 3161 a33f abdb 8b24 e764 a6ee 42b2 9b75 d96c 5899 a9fd e0aa 78ca d54b be59 20ce d5f3 8367 94ff 16e5 ed9f d067 8d78 9883 403c d281 a02f fc60 7d52 6dd3 9c68 bc48 80f8 3845 af97 440d 953f 9df6 3cbe 98a0 5f9c 7333 8560 8adc af6a 6807 4264 1b09 dee1 ab73 0b4b ad05 35bd 04d7 5e81 8c9d 0eea 84d8 d5ef b273 bc58 e5a5 00f7 c48f e590 2398 501b 4831 dd1d d076 fa2a 63c6 d708 cacb c077 148a 5514 406e d391 6b61 69e3 7a7f 1592 745c 969e 766e d933 ecb8 015e 4e43 de0a bf74 cc55 f3aa d0b4 1f31 81d4 6ba5 defd 0229 e5cd 0f28 fc43 4207 99e6 9483 9ccf 592d 6645 f182 afce d2c4 c033 12db d971 f817 0b0b f71b 98c5 5ee3 fb30 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 ebd1 7b67 28d5 8949 7464 9e81 26e9 0b60 9dff 9474 406a 5b45 5ce5 cbc4 b0cb 5279 ad85 adca df4d b24d 420f 9a6e 3381 bb30 d3e0 7d49 7c2c 54a9 f16f baf7 01f7 9333 f524 de9c dec1 46f7 61c9 10c8 6908 25f8 6d71 ce1a 504b 1ec3 ddde da36 57ae 55c7 5e42 675a c7d5 b14e fa84 fb2a 7fe8 10d6 92f8 5b94 685e c5bb 6081 4194 1c62 fd8f 0ac6 329f bd1a 3e3f dcd2 ae28 20e7 4a41 c9b7 7e6e e9d6 8660 57de 9256 8e8e 229b 6e24 2cda 5d89 c9fc ed82 5925 d9a1 c5f4 158e 5f01 88e2 cf28 5cd4 d7d4 9aae 693b 0e5c fbc6 2eef 92e3 2252 ab55 c622 1722 76fa 4ba1 ccc2 0ab4 f9fe ddea d1b6 d14f f34f c86d 37a0 11e8 74bb 8139 159e 60fa 869a 6c30 9706 eab4 80af 09d7 6cf0 2477 6101 62a8 f78c 8fc0 9c49 0f27 3689 21bb fbc2 ca3b 45b1 eea0 9118 cbf3 34ed b2ee 53f1 fd98 ef52 ad91 79f0 97a2 9914 47ee 2c1c fd9e 3726 26ee c248 1d0e c000 8f9d f998 7841 d248 13cd adcf 1bc6 74e0 16f4 5586 ba39 ae56 ffa2 e55c bc09 68c8 660b 2cde 09d0 66e9 07d0 ac2a 48c7 bb88 56c3 0a1e 8e53 f970 2e2a a6ff 937c d147 52bb 6ba3 3641 2fe1 572c 7f9c bc5e d8f5 a0c9 12ad a569 9502 dbe4 eca4 412e 7750 457a f8e3 a33a 1bd1 e0bd 310a 9440 9c95 fb20 ba72 718b c7ac 8181 700a eb57 139c 0d81 98df b692 2d11 0e32 6a7a 2f2e ce65 1691 b528 975c 6b61 3ac9 a352 7063 3802 a044 6629 9177 c655 2029 b6bb a844 0c44 84ff 2275 14d0 5bf1 b79f fcde d86b a6cb 75ac 1f9b b6f2 e185 045a ead5 8ce2 fc98 036a 1894 4736 fede e35f 5be4 0345 8d97 f8a5 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 80bb 6d7c 8e8b 7370 9993 d3ad 215b 855f 3c5c 0b21 288e fd95 6cba 46de 0501 8802 35ed a752 f642 83f4 df77 50cb ca50 f45a 9fc0 7c77 2708 45a3 173c 3d43 cda7 957e 5067 af4f 4533 9750 9938 7683 2ef7 b7ef 0868 9077 d7c3 621f 0b0e 80d3 93db 523d a946 c732 cb2b 8f78 5e66 f408 edd0 ab45 082f ef39 5bf8 082b 2212 4437 c2ec f4d5
2025-12-06 00:56:00.454  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 151, "uid": "A111-bbc1234", "time": 1764953788, "sdp": "v=0\r\no=- 1495799811084970 1495799811084970 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\na=msid-semantic: iot\r\na=group:BUNDLE 0 1 2\r\nm=audio 9 UDP\/TLS\/RTP\/SAVP 8\r\na=rtpmap:8 PCMA\/8000\r\na=ssrc:12345679 cname:webrtc-pcma\r\na=sendrecv\r\na=mid:0\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 44:31:0B:BF:EB:BC:0F:68:A4:46:8D:5E:6F:9C:3D:C4:22:F7:82:47:32:B0:23:F7:43:90:68:EE:F6:EB:44:F5\r\na=setup:passive\r\na=ice-ufrag:iRFq\r\na=ice-pwd:iRFqdKAwpPaO7drIvqSIuhLL\r\na=candidate:0 1 UDP 2123905535 192.168.31.57 38969 typ host\r\na=candidate:2 1 UDP 1687697919 123.144.114.73 38969 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 13687551 8.129.3.8 53466 typ relay raddr 0.0.0.0 rport 0\r\nm=video 9 UDP\/TLS\/RTP\/SAVPF 96 102\r\na=rtcp-fb:96 nack pli\r\na=rtcp-fb:102 nack pli\r\na=rtpmap:96 H264\/90000\r\na=rtpmap:102 H264\/90000\r\na=fmtp:96 profile-level-id=42e01f;packetization-mode=1;level-asymmetry-allowed=1\r\na=fmtp:102 profile-level-id=64001f;packetization-mode=1;level-asymmetry-allowed=1\r\na=ssrc:12345678 cname:webrtc-h264\r\na=sendonly\r\na=mid:1\r\nc=IN IP4 0.0.0.0\r\na=rtcp-mux\r\na=fingerprint:sha-256 44:31:0B:BF:EB:BC:0F:68:A4:46:8D:5E:6F:9C:3D:C4:22:F7:82:47:32:B0:23:F7:43:90:68:EE:F6:EB:44:F5\r\na=setup:passive\r\na=ice-ufrag:iRFq\r\na=ice-pwd:iRFqdKAwpPaO7drIvqSIuhLL\r\na=candidate:0 1 UDP 2123905535 192.168.31.57 38969 typ host\r\na=candidate:2 1 UDP 1687697919 123.144.114.73 38969 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 13687551 8.129.3.8 53466 typ relay raddr 0.0.0.0 rport 0\r\nm=application 50712 UDP\/DTLS\/SCTP webrtc-datachannel\r\na=mid:2\r\na=sctp-port:5000\r\nc=IN IP4 0.0.0.0\r\na=max-message-size:262144\r\na=fingerprint:sha-256 44:31:0B:BF:EB:BC:0F:68:A4:46:8D:5E:6F:9C:3D:C4:22:F7:82:47:32:B0:23:F7:43:90:68:EE:F6:EB:44:F5\r\na=setup:passive\r\na=ice-ufrag:iRFq\r\na=ice-pwd:iRFqdKAwpPaO7drIvqSIuhLL\r\na=candidate:0 1 UDP 2123905535 192.168.31.57 38969 typ host\r\na=candidate:2 1 UDP 1687697919 123.144.114.73 38969 typ srflx raddr 0.0.0.0 rport 0\r\na=candidate:3 1 UDP 13687551 8.129.3.8 53466 typ relay raddr 0.0.0.0 rport 0\r\n", "sid": "1764953759573", "status": 1 }
2025-12-06 00:56:00.488  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 151
2025-12-06 00:56:00.489  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Offer - SID: 1764953759573, Status: 1
2025-12-06 00:56:00.489  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 已缓存 WebRTC Offer, SID: 1764953759573
2025-12-06 00:56:00.719  INFO 1312 --- [http-nio-8080-exec-5] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Answer 到设备 A111-bbc1234 - SID: 1764953759573
2025-12-06 00:56:00.720  INFO 1312 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"code":24,"time":1764953760,"sdp":"v=0\r\no=- 716874500575692117 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1 2\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVP 8\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:REa8\r\na=ice-pwd:5Hi0ZzMvmfVT9iyMF5wjrdR8\r\na=ice-options:trickle\r\na=fingerprint:sha-256 95:6E:F1:10:AD:48:19:64:E7:72:0C:C6:6E:39:E5:F4:A4:8E:93:F7:1C:45:E5:BB:7E:FE:41:45:C3:E7:A3:A9\r\na=setup:active\r\na=mid:0\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:8 PCMA/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 96\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:REa8\r\na=ice-pwd:5Hi0ZzMvmfVT9iyMF5wjrdR8\r\na=ice-options:trickle\r\na=fingerprint:sha-256 95:6E:F1:10:AD:48:19:64:E7:72:0C:C6:6E:39:E5:F4:A4:8E:93:F7:1C:45:E5:BB:7E:FE:41:45:C3:E7:A3:A9\r\na=setup:active\r\na=mid:1\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:96 H264/90000\r\na=rtcp-fb:96 nack pli\r\na=fmtp:96 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:REa8\r\na=ice-pwd:5Hi0ZzMvmfVT9iyMF5wjrdR8\r\na=ice-options:trickle\r\na=fingerprint:sha-256 95:6E:F1:10:AD:48:19:64:E7:72:0C:C6:6E:39:E5:F4:A4:8E:93:F7:1C:45:E5:BB:7E:FE:41:45:C3:E7:A3:A9\r\na=setup:active\r\na=mid:2\r\na=sctp-port:5000\r\na=max-message-size:262144\r\n","sid":"1764953759573"}
2025-12-06 00:56:00.773  INFO 1312 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 1376 bytes
2025-12-06 00:56:00.779  INFO 1312 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): c874 0ee4 6ab1 63a9 d285 ba78 7fe3 17f0 7136 6851 6369 f7b6 54cd 3978 2bc9 0ae2 5361 a50b 5e97 a00d 39f2 d12b 70a9 6758 73ce aa5a 70cc f857 f3c8 0b82 e576 8e76 c480 207a 037a bb59 aaeb 8e5e a528 3b10 6066 d678 a874 7753 a4ea 372d 383f 7fba fde2 2440 bfac 8f2e 8f85 2af0 9432 11bd fec1 e42b 54c6 aafb c26d 88ba 8ef4 6e6e e017 c7e6 4470 7821 e227 6350 04fe d403 048a 567e 5cef dac9 58b7 707b d8f5 e10d a144 2c9a 518c faf0 2a75 cc67 edf9 9801 bf31 737f 49f7 ca39 7d0c 1978 b94e 8f4a 7ddc ce69 e018 0be8 bada dd96 9966 4f40 4fa5 18a3 d8f2 09fc 2c72 e86b 7063 8a6f f519 c66b 67ea c6f7 0d30 412d f904 ade4 902e c2c2 f8f9 a8e7 4ada 4a52 5827 ae6a ecf5 c971 a954 7e11 2ca2 f226 a9e7 f5d5 62d2 586f 41b5 ef58 a325 5796 5713 8a66 2a5f ea21 b7f2 1b53 3c44 c90b 46c8 4870 38b8 de39 8dfa bc77 6924 791c 4378 3eb2 98bf 549c fc31 5ef2 2e1c 3ba1 5275 cf63 76ee fd1f 5823 5a4e 4469 f52b 888d 0a63 825a e778 2591 b63e 7a6d f8b0 f166 0ae4 d98d 9a66 bdf6 963e eea5 b50c e5cb 5574 ab9f c51e a672 f028 5cba 8f2f 2d41 53d6 7567 1433 0ed0 fb22 2afe 06fa 4156 5e70 aa58 38de b3fe 4900 a0dd 8fc8 5529 0385 d377 c1a4 68c6 daf3 6dc9 b769 9526 2abb 9980 900c a8cd 8ee1 a0f0 9b52 8932 2cfc 5d87 cab9 ea74 9a82 c07d b60e a05e 9914 bf3c 336e da9e 6bc4 0d9d cc47 93cd ebbc 7f04 7bcb 4d9c 1bbb 5af2 f546 2b5d e27f d6de 6389 6f31 386e dbe8 0a5b c0c7 0818 b206 ff20 188e 85e6 2ad8 98d7 c072 3f1d 6775 f29b 965c 6a4b aef8 f32f b6e9 26d8 718b e505 5f9c baba 24f1 8c16 9ec7 d655 cd62 6424 ce03 8c8b eb8a 5e6a 882f 8e52 b7fc 6552 43fc 8511 c0d1 3ccd 916e 4891 5688 c089 263b d39a 7f9c 632e 46b8 2087 319c 95e1 346a 10c8 de58 e0b8 6253 538c ef05 f542 c734 bce2 3182 0b40 1339 554d bf69 1062 f8aa 5e22 58f6 1c40 4614 c8d4 424a 6903 518b 20ab c841 ad69 b43a c555 3670 3bf5 0884 5890 549b db2d 65b7 e56e 6611 0f99 b06d b5f4 073a 2ef5 39de ba29 7fcb 6e9b 2387 69dc d666 0898 13fe 1476 1c2e 14fa ffcc 145f 86c8 6934 093e 815e c3df a396 77f5 c23f 757e 44e5 ef47 a894 2352 6c80 3c88 6947 a818 a270 7349 dd0f 6dcb 0880 0f9c be49 a09d 1df9 5a43 33de 9fd4 ceed 8c8e 73fc e8e4 b68b bc73 434f f103 d3fb 7658 15b4 ad2f ad32 f62e fba5 d36a 87fa 1eaf 0dc1 c97e ebba 2126 76fd a0a5 70c1 db27 93c7 6e93 b623 d86d bad4 404d b190 7ff0 b419 fba1 6a9d eb32 b56a 3388 dad5 0e33 429f a204 311f 818f f63f bd98 feae 2be9 37c6 04c5 6ca5 ad0f 3233 a8ca 5b5c 3c7c e6cb 93e3 aad1 4ccc 102a d5ee 1529 e2fc 85b7 a53a f6ef 660f 8efb 08d6 3847 0605 5d8c 0a95 47df 8932 006c 216b 7108 1a0b 4fff 1f21 f102 42f9 ea2d f590 1214 9d51 c248 b5af c1e0 482c 63f4 112a de5d 163b f679 c17e fd17 859b c0ce 8640 3689 eb13 2f5d 127c eef7 c074 94a3 99f5 cb87 4d78 f9f9 624f 0d4a add7 d2ad 3109 62f8 7c2e d078 2208 7d62 1b11 c52d 2b0b a66a d383 26b2 4ecf 6b5f 90bf 9d48 6be2 48c8 d738 2a22 b71f 46ac 3ed0 e492 6cbf 772b cff5 f754 66c8 988a 6572 6c03 4886 40d6 db7e 7266 fcb9 e83d 8652 58e1 586d a427 3741 13bc 4717 4957 47d1 fb7e 5dbb 6bdd 9c2a 6e81 5887 eac3 7c4c 3842 a41f d751 e644 c0cf ce23 cdd5 4d29 6d2a b3a9 5de1 d298 d0d3 4382 e97b 39bb c4fe af55 90df 9f61 1048 ec67 a055 7063 682c 1831 c333 1652 1bee 78ec 6478 9558 216d cd48 034c 2b5a 91eb 3f3b f144 c31a 78d1 d076 7f60 6d66 9cf2 f347 926a 189d 0aff ec11 67e3 ba0d 4d34 e93b 3e83 18e3 792e 35c9 5920 d70e 2db5 4e15 16ea b3a4 7840 68f1 faf8 57f3 10df 8b75 5d7d d6e8 c035 675a 48a4 61ff 094a 3479 c6ff 8a15 4284 5a89 bbbd a61c e142 7710 3a8b a053 2b12 ce1b 2dc0 2012 b209 233b a0cf 9970 1f50 de93 803e 11da 1ee6 49eb 880a 2e29 f80c 1ca7 37d8 3d42 ceb4 a95d f8ef dd6e 40ce
2025-12-06 00:56:00.780  INFO 1312 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 已发送WebRTC Answer到设备 A111-bbc1234
2025-12-06 00:56:00.857  INFO 1312 --- [http-nio-8080-exec-4] c.p.c.c.internal.MqttControlController   : 发送 WebRTC Candidate 到设备 A111-bbc1234 - SID: 1764953759573
2025-12-06 00:56:00.857  INFO 1312 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"candidate":"candidate:2504591651 1 udp 33562623 8.129.3.8 64886 typ relay raddr 0.0.0.0 rport 0 generation 0 ufrag REa8 network-cost 999","code":25,"time":1764953760,"sid":"1764953759573"}
2025-12-06 00:56:00.887  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:56:00.888  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 51d5 77cc 5dea 7d42 74d0 42ed 95df 9dd4 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 f963 3594 8d52 be7f 03f4 3cf1 aa73 d961 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:56:00.888  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 152, "uid": "A111-bbc1234", "time": 1764953789, "status": 1 }
2025-12-06 00:56:00.888  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 152
2025-12-06 00:56:00.889  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Answer - SID: null, Status: 1
2025-12-06 00:56:00.916  INFO 1312 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 192 bytes
2025-12-06 00:56:00.917  INFO 1312 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): eb8a 4e30 ab77 82ab f67e 1733 f03c 1ac0 a96a 328a 64f6 8c10 b086 b1d6 da65 6535 c9cd e600 a327 fb44 6165 0a33 684e b966 ea23 197d ee1a d647 4930 6895 52ef 88aa 355f ba49 7a18 51c1 5800 19fe e5de fad9 b8c6 6cce e29e 1205 889f 3467 e753 c435 ac14 6459 8145 1f6a 7001 6e29 a9c2 dcf3 59dd ccf5 d04f 422b 5649 ad31 4f15 a0e2 a70a 0180 43da 87df a15b d596 f3f7 b38a 95fc 5cf5 bbf8 346e a2c2 10cb 69d7 d5a0 f13b ae9a ea76 be8f caa4 86bf bc50 0655 4536 00ad 2ed1 3af2 724e 38bf 1cc1 8a1a
2025-12-06 00:56:00.917  INFO 1312 --- [http-nio-8080-exec-4] c.p.camera.service.MqttMessageService    : 已发送WebRTC Candidate到设备 A111-bbc1234
2025-12-06 00:56:00.947  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 00:56:00.947  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): b43c 0396 0705 f88d b288 a62b 5eca cd0b 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 f963 3594 8d52 be7f 03f4 3cf1 aa73 d961 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 00:56:00.948  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 153, "uid": "A111-bbc1234", "time": 1764953789, "status": 1 }
2025-12-06 00:56:00.948  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 153
2025-12-06 00:56:00.948  INFO 1312 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到WebRTC Candidate - SID: null, Status: 1
2025-12-06 01:06:04.789  INFO 1312 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 01:06:04.789  INFO 1312 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 01:06:04.790  INFO 1312 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 01:06:04.794  INFO 1312 --- [SpringApplicationShutdownHook] c.p.camera.service.MqttMessageService    : MQTT连接已关闭
2025-12-06 01:20:07.822  INFO 20040 --- [main] com.pura365.camera.Application           : Starting Application using Java 14.0.1 on 张鹏朝 with PID 20040 (D:\workspace\camera-server\target\classes started by q1763 in D:\workspace\camera-server)
2025-12-06 01:20:07.825  INFO 20040 --- [main] com.pura365.camera.Application           : No active profile set, falling back to 1 default profile: "default"
2025-12-06 01:20:08.513  INFO 20040 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-06 01:20:08.526  INFO 20040 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-06 01:20:08.923  INFO 20040 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-06 01:20:08.931  INFO 20040 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-06 01:20:08.931  INFO 20040 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-12-06 01:20:09.044  INFO 20040 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-06 01:20:09.045  INFO 20040 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1183 ms
2025-12-06 01:20:10.062  INFO 20040 --- [main] c.p.camera.service.MqttMessageService    : 已连接到MQTT Broker: tcp://cam.pura365.cn:1883
2025-12-06 01:20:10.108  INFO 20040 --- [main] c.p.camera.service.MqttMessageService    : 已订阅主题: camera/pura365/+/device
2025-12-06 01:20:10.109  INFO 20040 --- [main] c.p.camera.service.MqttMessageService    : MQTT服务初始化成功
2025-12-06 01:20:10.570  INFO 20040 --- [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 01:20:10.570  INFO 20040 --- [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 1 subscriber(s).
2025-12-06 01:20:10.570  INFO 20040 --- [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-12-06 01:20:10.589  INFO 20040 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-12-06 01:20:10.596  INFO 20040 --- [main] com.pura365.camera.Application           : Started Application in 3.033 seconds (JVM running for 3.469)
2025-12-06 01:20:10.628  INFO 20040 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-06 01:20:10.628  INFO 20040 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-06 01:20:10.629  INFO 20040 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-06 01:23:41.573  INFO 20040 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 01:23:41.573  INFO 20040 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 01:23:41.573  INFO 20040 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 01:23:41.577  INFO 20040 --- [SpringApplicationShutdownHook] c.p.camera.service.MqttMessageService    : MQTT连接已关闭
2025-12-06 01:23:44.677  INFO 39004 --- [main] com.pura365.camera.Application           : Starting Application using Java 14.0.1 on 张鹏朝 with PID 39004 (D:\workspace\camera-server\target\classes started by q1763 in D:\workspace\camera-server)
2025-12-06 01:23:44.679  INFO 39004 --- [main] com.pura365.camera.Application           : No active profile set, falling back to 1 default profile: "default"
2025-12-06 01:23:45.237  INFO 39004 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-06 01:23:45.246  INFO 39004 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-06 01:23:45.588  INFO 39004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-06 01:23:45.594  INFO 39004 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-06 01:23:45.595  INFO 39004 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-12-06 01:23:45.708  INFO 39004 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-06 01:23:45.708  INFO 39004 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1004 ms
2025-12-06 01:23:46.704  INFO 39004 --- [main] c.p.camera.service.MqttMessageService    : 已连接到MQTT Broker: tcp://cam.pura365.cn:1883
2025-12-06 01:23:46.750  INFO 39004 --- [main] c.p.camera.service.MqttMessageService    : 已订阅主题: camera/pura365/+/device
2025-12-06 01:23:46.751  INFO 39004 --- [main] c.p.camera.service.MqttMessageService    : MQTT服务初始化成功
2025-12-06 01:23:47.186  INFO 39004 --- [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 01:23:47.186  INFO 39004 --- [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 1 subscriber(s).
2025-12-06 01:23:47.186  INFO 39004 --- [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-12-06 01:23:47.204  INFO 39004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-12-06 01:23:47.211  INFO 39004 --- [main] com.pura365.camera.Application           : Started Application in 2.764 seconds (JVM running for 3.253)
2025-12-06 01:23:47.296  INFO 39004 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-06 01:23:47.297  INFO 39004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-06 01:23:47.298  INFO 39004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-06 01:23:54.862  INFO 39004 --- [http-nio-8080-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-06 01:23:55.599  INFO 39004 --- [http-nio-8080-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-06 01:31:41.829  WARN 39004 --- [http-nio-8080-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7c5df9f0 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 01:31:46.831  WARN 39004 --- [http-nio-8080-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3916e383 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 01:31:51.835  WARN 39004 --- [http-nio-8080-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6a07879 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 01:31:56.845  WARN 39004 --- [http-nio-8080-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6946c829 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 01:32:01.849  WARN 39004 --- [http-nio-8080-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7edc38c8 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 01:32:18.615  WARN 39004 --- [http-nio-8080-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@571da376 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 01:32:23.616  WARN 39004 --- [http-nio-8080-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3be568ab (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 01:32:28.627  WARN 39004 --- [http-nio-8080-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3fdaeb0f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 01:32:33.632  WARN 39004 --- [http-nio-8080-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5b5834cc (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 01:32:38.642  WARN 39004 --- [http-nio-8080-exec-5] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2382b7dd (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 01:38:33.246  WARN 39004 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m1s72ms852µs300ns).
2025-12-06 01:46:59.305  INFO 39004 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 01:46:59.306  INFO 39004 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 01:46:59.306  INFO 39004 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 01:46:59.310  INFO 39004 --- [SpringApplicationShutdownHook] c.p.camera.service.MqttMessageService    : MQTT连接已关闭
2025-12-06 01:46:59.312  INFO 39004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-06 01:46:59.316  INFO 39004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-06 01:47:12.998  INFO 36412 --- [main] com.pura365.camera.Application           : Starting Application using Java 14.0.1 on 张鹏朝 with PID 36412 (D:\workspace\camera-server\target\classes started by q1763 in D:\workspace\camera-server)
2025-12-06 01:47:13.000  INFO 36412 --- [main] com.pura365.camera.Application           : No active profile set, falling back to 1 default profile: "default"
2025-12-06 01:47:13.657  INFO 36412 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-06 01:47:13.670  INFO 36412 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-06 01:47:14.178  INFO 36412 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-06 01:47:14.187  INFO 36412 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-06 01:47:14.188  INFO 36412 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-12-06 01:47:14.363  INFO 36412 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-06 01:47:14.363  INFO 36412 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1337 ms
2025-12-06 01:47:15.482  INFO 36412 --- [main] c.p.camera.service.MqttMessageService    : 已连接到MQTT Broker: tcp://cam.pura365.cn:1883
2025-12-06 01:47:15.561  INFO 36412 --- [main] c.p.camera.service.MqttMessageService    : 已订阅主题: camera/pura365/+/device
2025-12-06 01:47:15.562  INFO 36412 --- [main] c.p.camera.service.MqttMessageService    : MQTT服务初始化成功
2025-12-06 01:47:16.001  INFO 36412 --- [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 01:47:16.001  INFO 36412 --- [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 1 subscriber(s).
2025-12-06 01:47:16.001  INFO 36412 --- [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-12-06 01:47:16.019  INFO 36412 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-12-06 01:47:16.027  INFO 36412 --- [main] com.pura365.camera.Application           : Started Application in 3.25 seconds (JVM running for 3.675)
2025-12-06 01:47:21.862  INFO 36412 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-06 01:47:21.863  INFO 36412 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-06 01:47:21.863  INFO 36412 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-06 01:47:26.569  INFO 36412 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-06 01:47:27.022  INFO 36412 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-06 01:50:13.289  INFO 36412 --- [http-nio-8080-exec-2] c.p.c.service.DeviceProductionService    : 新增经销商: code=01, name=经销商01
2025-12-06 01:50:19.704  INFO 36412 --- [http-nio-8080-exec-7] c.p.c.service.DeviceProductionService    : 新增经销商: code=02, name=经销商02
2025-12-06 01:50:24.595  INFO 36412 --- [http-nio-8080-exec-8] c.p.c.service.DeviceProductionService    : 新增经销商: code=03, name=经销商03
2025-12-06 01:50:29.407  INFO 36412 --- [http-nio-8080-exec-10] c.p.c.service.DeviceProductionService    : 新增经销商: code=04, name=经销商04
2025-12-06 01:50:35.129  INFO 36412 --- [http-nio-8080-exec-9] c.p.c.service.DeviceProductionService    : 新增经销商: code=05, name=经销商05
2025-12-06 01:50:41.202  INFO 36412 --- [http-nio-8080-exec-1] c.p.c.service.DeviceProductionService    : 新增经销商: code=06, name=经销商06
2025-12-06 01:52:05.321  INFO 36412 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 01:52:05.321  INFO 36412 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 01:52:05.322  INFO 36412 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 01:52:05.326  INFO 36412 --- [SpringApplicationShutdownHook] c.p.camera.service.MqttMessageService    : MQTT连接已关闭
2025-12-06 01:52:05.327  INFO 36412 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-06 01:52:05.331  INFO 36412 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-06 01:52:12.318  INFO 17908 --- [main] com.pura365.camera.Application           : Starting Application using Java 14.0.1 on 张鹏朝 with PID 17908 (D:\workspace\camera-server\target\classes started by q1763 in D:\workspace\camera-server)
2025-12-06 01:52:12.320  INFO 17908 --- [main] com.pura365.camera.Application           : No active profile set, falling back to 1 default profile: "default"
2025-12-06 01:52:12.899  INFO 17908 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-06 01:52:12.907  INFO 17908 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-06 01:52:13.267  INFO 17908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-06 01:52:13.273  INFO 17908 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-06 01:52:13.274  INFO 17908 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-12-06 01:52:13.387  INFO 17908 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-06 01:52:13.387  INFO 17908 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1041 ms
2025-12-06 01:52:14.379  INFO 17908 --- [main] c.p.camera.service.MqttMessageService    : 已连接到MQTT Broker: tcp://cam.pura365.cn:1883
2025-12-06 01:52:14.425  INFO 17908 --- [main] c.p.camera.service.MqttMessageService    : 已订阅主题: camera/pura365/+/device
2025-12-06 01:52:14.425  INFO 17908 --- [main] c.p.camera.service.MqttMessageService    : MQTT服务初始化成功
2025-12-06 01:52:14.869  INFO 17908 --- [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 01:52:14.869  INFO 17908 --- [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 1 subscriber(s).
2025-12-06 01:52:14.869  INFO 17908 --- [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-12-06 01:52:14.887  INFO 17908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-12-06 01:52:14.894  INFO 17908 --- [main] com.pura365.camera.Application           : Started Application in 2.803 seconds (JVM running for 3.229)
2025-12-06 01:52:35.721  INFO 17908 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-06 01:52:35.721  INFO 17908 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-06 01:52:35.722  INFO 17908 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-12-06 01:52:35.997  INFO 17908 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-06 01:52:36.497  INFO 17908 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-06 01:52:45.886  INFO 17908 --- [http-nio-8080-exec-1] c.p.c.service.DeviceProductionService    : 创建生产批次成功: batchNo=PB20251206001, quantity=100, startSerial=1, endSerial=100
2025-12-06 02:14:31.326  WARN 17908 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@260f5bfa (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 02:14:36.333  WARN 17908 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@76690fbc (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 02:14:41.335  WARN 17908 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@59e734c8 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 02:14:46.347  WARN 17908 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4516aa27 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 02:14:51.358  WARN 17908 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2502f0c7 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 02:14:56.370  WARN 17908 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4ce03c8d (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 02:14:56.377 ERROR 17908 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30059ms.
### The error may exist in com/pura365/camera/repository/UserDeviceRepository.java (best guess)
### The error may involve com.pura365.camera.repository.UserDeviceRepository.selectList
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30059ms.] with root cause

com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:753) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:565) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2453) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:566) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-4.0.3.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.sun.proxy.$Proxy73.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:164) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:77) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.sun.proxy.$Proxy98.selectList(Unknown Source) ~[na:na]
	at com.pura365.camera.controller.device.DeviceController.listDevices(DeviceController.java:65) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]

2025-12-06 02:16:59.001  INFO 17908 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 02:16:59.002  INFO 17908 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 02:16:59.002  INFO 17908 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 02:16:59.008  INFO 17908 --- [SpringApplicationShutdownHook] c.p.camera.service.MqttMessageService    : MQTT连接已关闭
2025-12-06 02:16:59.009  INFO 17908 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-06 02:16:59.011  INFO 17908 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-06 02:17:02.348  INFO 9932 --- [main] com.pura365.camera.Application           : Starting Application using Java 14.0.1 on 张鹏朝 with PID 9932 (D:\workspace\camera-server\target\classes started by q1763 in D:\workspace\camera-server)
2025-12-06 02:17:02.350  INFO 9932 --- [main] com.pura365.camera.Application           : No active profile set, falling back to 1 default profile: "default"
2025-12-06 02:17:02.905  INFO 9932 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-06 02:17:02.913  INFO 9932 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-06 02:17:03.266  INFO 9932 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-06 02:17:03.273  INFO 9932 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-06 02:17:03.273  INFO 9932 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-12-06 02:17:03.395  INFO 9932 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-06 02:17:03.395  INFO 9932 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1021 ms
2025-12-06 02:17:04.392  INFO 9932 --- [main] c.p.camera.service.MqttMessageService    : 已连接到MQTT Broker: tcp://cam.pura365.cn:1883
2025-12-06 02:17:04.438  INFO 9932 --- [main] c.p.camera.service.MqttMessageService    : 已订阅主题: camera/pura365/+/device
2025-12-06 02:17:04.439  INFO 9932 --- [main] c.p.camera.service.MqttMessageService    : MQTT服务初始化成功
2025-12-06 02:17:04.885  INFO 9932 --- [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 02:17:04.886  INFO 9932 --- [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 1 subscriber(s).
2025-12-06 02:17:04.886  INFO 9932 --- [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-12-06 02:17:04.905  INFO 9932 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-12-06 02:17:04.911  INFO 9932 --- [main] com.pura365.camera.Application           : Started Application in 2.792 seconds (JVM running for 3.218)
2025-12-06 02:17:09.131  INFO 9932 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-06 02:17:09.131  INFO 9932 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-06 02:17:09.132  INFO 9932 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-06 02:17:09.348  INFO 9932 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-06 02:17:09.802  INFO 9932 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-06 02:20:09.913  INFO 9932 --- [http-nio-8080-exec-5] c.p.c.c.internal.MqttControlController   : 请求设备 A111-bbc1234 的信息
2025-12-06 02:20:09.914  INFO 9932 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 当前时间 1764958809914
2025-12-06 02:20:09.915  INFO 9932 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"code":11,"time":1764958809}
2025-12-06 02:20:09.963  INFO 9932 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 32 bytes
2025-12-06 02:20:09.964  INFO 9932 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): f1b4 bc44 220b f274 aa21 f4ec 3a8d 3504 0d8b 29a7 5fd8 cc3f 3dcd b1c4 f3a0 93b7
2025-12-06 02:20:09.964  INFO 9932 --- [http-nio-8080-exec-5] c.p.camera.service.MqttMessageService    : 已请求设备 A111-bbc1234 的信息
2025-12-06 02:20:10.121  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 224 bytes
2025-12-06 02:20:10.124  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 2a14 7d38 f3d6 d42d fc81 dba6 ddf4 20c0 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 4fef 1657 1889 254a 5bc9 0feb 9d71 72d9 69f0 9c76 169c 5473 eedb c38e c82a 164c 4e04 9168 67fe 7d4c a462 0541 0cef 2b86 0dda deab d569 919e 0671 6c83 91f9 cf0c d7d2 73d7 6465 b964 2b84 9b81 885d 90c8 c9f2 0c61 e19d 556e 4888 f631 b2fd 28aa f9d3 4bfd e7ce f60f ee47 dcfa 6902 b383 7a0e fee1 2a9a 667d 0765 fb8d 4ea9 fb87 1d3f 8f08 4b4b 43c3 ba94 a040 1fd3 bc0a d063 6c26 d100 65e3 0745 b77c e1f6 32c8 6c3b 5386 b800 1dc9 cc09 dee5 649e 4df4
2025-12-06 02:20:10.125  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 139, "uid": "A111-bbc1234", "time": 1764958838, "wifiname": "SGHome", "wifirssi": 221, "ver": "6.5.2", "sdstate": 0, "sdcap": 0, "sdblock": 0, "sdfree": 0, "rotate": 0, "lightled": 0, "whiteled": 0, "bulbs_en": 0 }
2025-12-06 02:20:10.142  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 139
2025-12-06 02:20:10.143  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到设备信息 - WiFi: SGHome, RSSI: 221, 版本: 6.5.2
2025-12-06 02:20:10.232  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.DeviceSsidService     : 已保存设备 A111-bbc1234 的SSID到缓存（长度: 6）
2025-12-06 02:20:10.331  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 已更新设备 A111-bbc1234 信息: SSID=SGHome, 版本=6.5.2
2025-12-06 02:25:28.141  INFO 9932 --- [http-nio-8080-exec-7] c.p.c.c.internal.MqttControlController   : 请求重启设备 A111-bbc1234
2025-12-06 02:25:28.142  INFO 9932 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 即将发送MQTT消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 明文JSON: {"code":13,"time":1764959128}
2025-12-06 02:25:28.201  INFO 9932 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 已发送消息到设备 A111-bbc1234 - Topic: camera/pura365/A111-bbc1234/master, 大小: 32 bytes
2025-12-06 02:25:28.202  INFO 9932 --- [http-nio-8080-exec-7] c.p.camera.service.MqttMessageService    : 发送消息十六进制(分组): a246 9a76 e051 d7cc b5ab a774 3af4 2c8e 4235 4905 41c0 50ec 8aa4 43de f153 cc66
2025-12-06 02:25:28.262  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 02:25:28.263  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 13ac 4c3b 30fb 370e 21f3 5cb8 1d1d 2ae2 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 3cf4 5021 0b53 f86c 3ec6 f0ad 2fbe ae90 978b fca7 1af5 e3d1 cfb2 1a3d 33b0 2dce
2025-12-06 02:25:28.263  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 141, "uid": "A111-bbc1234", "time": 1764959157, "status": 1 }
2025-12-06 02:25:28.264  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 141
2025-12-06 02:25:28.264  WARN 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 未处理的消息CODE: 141
2025-12-06 02:25:30.315  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 02:25:30.316  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 3ed4 f69e 3283 b944 e1f6 aa8c 86bf dd47 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 3651 b347 3c11 ab3f fa0e d9d5 3562 a7ad 43ae e6b9 b3ac 63e7 db29 a83a f3f7 e421
2025-12-06 02:25:30.317  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 148, "uid": "A111-bbc1234", "time": 1764417023, "status": 0 }
2025-12-06 02:25:30.317  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 148
2025-12-06 02:25:30.318  WARN 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 未处理的消息CODE: 148
2025-12-06 02:25:42.589  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 收到MQTT消息 - Topic: camera/pura365/A111-bbc1234/device, 长度: 80 bytes
2025-12-06 02:25:42.590  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 消息十六进制(分组): 3479 7bc3 bd97 30f5 b9bb f6dc 74ba 6273 3a64 81c6 5703 4f31 64ce d7b4 909c b03a cae1 228a 79fc 6a36 bbe9 0db3 88ee 1cc0 21a3 f15a 69b5 3fa4 283e 33c0 aafc e011 43ae e6b9 b3ac 63e7 db29 a83a f3f7 e421
2025-12-06 02:25:42.590  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 解密后的消息: { "code": 138, "uid": "A111-bbc1234", "time": 1764959141, "status": 0 }
2025-12-06 02:25:42.591  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 处理设备 A111-bbc1234 的消息，CODE: 138
2025-12-06 02:25:42.592  INFO 9932 --- [MQTT Call: local-camera-server] c.p.camera.service.MqttMessageService    : 设备 A111-bbc1234 MQTT已连接 - Status: 0
2025-12-06 02:25:47.632  WARN 9932 --- [MQTT Call: local-camera-server] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@48f55774 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 02:25:52.643  WARN 9932 --- [MQTT Call: local-camera-server] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@42ea854b (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 02:25:57.646  WARN 9932 --- [MQTT Call: local-camera-server] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6009ed1 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-06 02:25:58.010  INFO 9932 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 02:25:58.010  INFO 9932 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 02:25:58.010  INFO 9932 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 02:27:38.574  INFO 34684 --- [main] com.pura365.camera.Application           : Starting Application using Java 14.0.1 on 张鹏朝 with PID 34684 (D:\workspace\camera-server\target\classes started by q1763 in D:\workspace\camera-server)
2025-12-06 02:27:38.576  INFO 34684 --- [main] com.pura365.camera.Application           : No active profile set, falling back to 1 default profile: "default"
2025-12-06 02:27:39.159  INFO 34684 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-12-06 02:27:39.173  INFO 34684 --- [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-12-06 02:27:39.647  INFO 34684 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-12-06 02:27:39.657  INFO 34684 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-06 02:27:39.657  INFO 34684 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-12-06 02:27:39.831  INFO 34684 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-06 02:27:39.832  INFO 34684 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1231 ms
2025-12-06 02:27:40.841  INFO 34684 --- [main] c.p.camera.service.MqttMessageService    : 已连接到MQTT Broker: tcp://cam.pura365.cn:1883
2025-12-06 02:27:40.886  INFO 34684 --- [main] c.p.camera.service.MqttMessageService    : 已订阅主题: camera/pura365/+/device
2025-12-06 02:27:40.887  INFO 34684 --- [main] c.p.camera.service.MqttMessageService    : MQTT服务初始化成功
2025-12-06 02:27:41.486  INFO 34684 --- [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 02:27:41.487  INFO 34684 --- [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 1 subscriber(s).
2025-12-06 02:27:41.487  INFO 34684 --- [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-12-06 02:27:41.514  INFO 34684 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-12-06 02:27:41.529  INFO 34684 --- [main] com.pura365.camera.Application           : Started Application in 3.176 seconds (JVM running for 3.587)
2025-12-06 02:28:08.006  INFO 34684 --- [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-06 02:28:08.006  INFO 34684 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-06 02:28:08.007  INFO 34684 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-12-06 02:28:08.233  INFO 34684 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-06 02:28:08.693  INFO 34684 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-06 02:29:05.587  INFO 34684 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-12-06 02:29:05.587  INFO 34684 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'camera-server.errorChannel' has 0 subscriber(s).
2025-12-06 02:29:05.587  INFO 34684 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-12-06 02:29:05.591  INFO 34684 --- [SpringApplicationShutdownHook] c.p.camera.service.MqttMessageService    : MQTT连接已关闭
2025-12-06 02:29:05.592  INFO 34684 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-06 02:29:05.597  INFO 34684 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
